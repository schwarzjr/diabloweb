!function(n){var t={};function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"===typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)e.d(r,o,function(t){return n[t]}.bind(null,o));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="/diabloweb/",e(e.s=35)}([function(n,t,e){"use strict";var r=e(5),o=e(20),i=Object.prototype.toString;function a(n){return"[object Array]"===i.call(n)}function u(n){return null!==n&&"object"===typeof n}function s(n){return"[object Function]"===i.call(n)}function c(n,t){if(null!==n&&"undefined"!==typeof n)if("object"!==typeof n&&(n=[n]),a(n))for(var e=0,r=n.length;e<r;e++)t.call(null,n[e],e,n);else for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&t.call(null,n[o],o,n)}n.exports={isArray:a,isArrayBuffer:function(n){return"[object ArrayBuffer]"===i.call(n)},isBuffer:o,isFormData:function(n){return"undefined"!==typeof FormData&&n instanceof FormData},isArrayBufferView:function(n){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(n):n&&n.buffer&&n.buffer instanceof ArrayBuffer},isString:function(n){return"string"===typeof n},isNumber:function(n){return"number"===typeof n},isObject:u,isUndefined:function(n){return"undefined"===typeof n},isDate:function(n){return"[object Date]"===i.call(n)},isFile:function(n){return"[object File]"===i.call(n)},isBlob:function(n){return"[object Blob]"===i.call(n)},isFunction:s,isStream:function(n){return u(n)&&s(n.pipe)},isURLSearchParams:function(n){return"undefined"!==typeof URLSearchParams&&n instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!==typeof window&&"undefined"!==typeof document},forEach:c,merge:function n(){var t={};function e(e,r){"object"===typeof t[r]&&"object"===typeof e?t[r]=n(t[r],e):t[r]=e}for(var r=0,o=arguments.length;r<o;r++)c(arguments[r],e);return t},deepMerge:function n(){var t={};function e(e,r){"object"===typeof t[r]&&"object"===typeof e?t[r]=n(t[r],e):t[r]="object"===typeof e?n({},e):e}for(var r=0,o=arguments.length;r<o;r++)c(arguments[r],e);return t},extend:function(n,t,e){return c(t,function(t,o){n[o]=e&&"function"===typeof t?r(t,e):t}),n},trim:function(n){return n.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(n,t,e){n.exports=e(18)},function(n,t){var e,r,o=n.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(n){if(e===setTimeout)return setTimeout(n,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(n,0);try{return e(n,0)}catch(t){try{return e.call(null,n,0)}catch(t){return e.call(this,n,0)}}}!function(){try{e="function"===typeof setTimeout?setTimeout:i}catch(n){e=i}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(n){r=a}}();var s,c=[],f=!1,l=-1;function p(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&d())}function d(){if(!f){var n=u(p);f=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,f=!1,function(n){if(r===clearTimeout)return clearTimeout(n);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(n);try{r(n)}catch(t){try{return r.call(null,n)}catch(t){return r.call(this,n)}}}(n)}}function h(n,t){this.fun=n,this.array=t}function _(){}o.nextTick=function(n){var t=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)t[e-1]=arguments[e];c.push(new h(n,t)),1!==c.length||f||u(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=_,o.addListener=_,o.once=_,o.off=_,o.removeListener=_,o.removeAllListeners=_,o.emit=_,o.prependListener=_,o.prependOnceListener=_,o.listeners=function(n){return[]},o.binding=function(n){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(n){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(n,t){},function(n,t,e){(function(n){function e(n,t){for(var e=0,r=n.length-1;r>=0;r--){var o=n[r];"."===o?n.splice(r,1):".."===o?(n.splice(r,1),e++):e&&(n.splice(r,1),e--)}if(t)for(;e--;e)n.unshift("..");return n}function r(n,t){if(n.filter)return n.filter(t);for(var e=[],r=0;r<n.length;r++)t(n[r],r,n)&&e.push(n[r]);return e}t.resolve=function(){for(var t="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:n.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,o="/"===a.charAt(0))}return(o?"/":"")+(t=e(r(t.split("/"),function(n){return!!n}),!o).join("/"))||"."},t.normalize=function(n){var i=t.isAbsolute(n),a="/"===o(n,-1);return(n=e(r(n.split("/"),function(n){return!!n}),!i).join("/"))||i||(n="."),n&&a&&(n+="/"),(i?"/":"")+n},t.isAbsolute=function(n){return"/"===n.charAt(0)},t.join=function(){var n=Array.prototype.slice.call(arguments,0);return t.normalize(r(n,function(n,t){if("string"!==typeof n)throw new TypeError("Arguments to path.join must be strings");return n}).join("/"))},t.relative=function(n,e){function r(n){for(var t=0;t<n.length&&""===n[t];t++);for(var e=n.length-1;e>=0&&""===n[e];e--);return t>e?[]:n.slice(t,e-t+1)}n=t.resolve(n).substr(1),e=t.resolve(e).substr(1);for(var o=r(n.split("/")),i=r(e.split("/")),a=Math.min(o.length,i.length),u=a,s=0;s<a;s++)if(o[s]!==i[s]){u=s;break}var c=[];for(s=u;s<o.length;s++)c.push("..");return(c=c.concat(i.slice(u))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(n){if("string"!==typeof n&&(n+=""),0===n.length)return".";for(var t=n.charCodeAt(0),e=47===t,r=-1,o=!0,i=n.length-1;i>=1;--i)if(47===(t=n.charCodeAt(i))){if(!o){r=i;break}}else o=!1;return-1===r?e?"/":".":e&&1===r?"/":n.slice(0,r)},t.basename=function(n,t){var e=function(n){"string"!==typeof n&&(n+="");var t,e=0,r=-1,o=!0;for(t=n.length-1;t>=0;--t)if(47===n.charCodeAt(t)){if(!o){e=t+1;break}}else-1===r&&(o=!1,r=t+1);return-1===r?"":n.slice(e,r)}(n);return t&&e.substr(-1*t.length)===t&&(e=e.substr(0,e.length-t.length)),e},t.extname=function(n){"string"!==typeof n&&(n+="");for(var t=-1,e=0,r=-1,o=!0,i=0,a=n.length-1;a>=0;--a){var u=n.charCodeAt(a);if(47!==u)-1===r&&(o=!1,r=a+1),46===u?-1===t?t=a:1!==i&&(i=1):-1!==t&&(i=-1);else if(!o){e=a+1;break}}return-1===t||-1===r||0===i||1===i&&t===r-1&&t===e+1?"":n.slice(t,r)};var o="b"==="ab".substr(-1)?function(n,t,e){return n.substr(t,e)}:function(n,t,e){return t<0&&(t=n.length+t),n.substr(t,e)}}).call(this,e(2))},function(n,t,e){"use strict";n.exports=function(n,t){return function(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];return n.apply(t,e)}}},function(n,t,e){"use strict";var r=e(0);function o(n){return encodeURIComponent(n).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}n.exports=function(n,t,e){if(!t)return n;var i;if(e)i=e(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,function(n,t){null!==n&&"undefined"!==typeof n&&(r.isArray(n)?t+="[]":n=[n],r.forEach(n,function(n){r.isDate(n)?n=n.toISOString():r.isObject(n)&&(n=JSON.stringify(n)),a.push(o(t)+"="+o(n))}))}),i=a.join("&")}if(i){var u=n.indexOf("#");-1!==u&&(n=n.slice(0,u)),n+=(-1===n.indexOf("?")?"?":"&")+i}return n}},function(n,t,e){"use strict";n.exports=function(n){return!(!n||!n.__CANCEL__)}},function(n,t,e){"use strict";(function(t){var r=e(0),o=e(25),i={"Content-Type":"application/x-www-form-urlencoded"};function a(n,t){!r.isUndefined(n)&&r.isUndefined(n["Content-Type"])&&(n["Content-Type"]=t)}var u={adapter:function(){var n;return"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t)?n=e(9):"undefined"!==typeof XMLHttpRequest&&(n=e(9)),n}(),transformRequest:[function(n,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(n)||r.isArrayBuffer(n)||r.isBuffer(n)||r.isStream(n)||r.isFile(n)||r.isBlob(n)?n:r.isArrayBufferView(n)?n.buffer:r.isURLSearchParams(n)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),n.toString()):r.isObject(n)?(a(t,"application/json;charset=utf-8"),JSON.stringify(n)):n}],transformResponse:[function(n){if("string"===typeof n)try{n=JSON.parse(n)}catch(t){}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(n){u.headers[n]={}}),r.forEach(["post","put","patch"],function(n){u.headers[n]=r.merge(i)}),n.exports=u}).call(this,e(2))},function(n,t,e){"use strict";var r=e(0),o=e(26),i=e(6),a=e(28),u=e(29),s=e(10);n.exports=function(n){return new Promise(function(t,c){var f=n.data,l=n.headers;r.isFormData(f)&&delete l["Content-Type"];var p=new XMLHttpRequest;if(n.auth){var d=n.auth.username||"",h=n.auth.password||"";l.Authorization="Basic "+btoa(d+":"+h)}if(p.open(n.method.toUpperCase(),i(n.url,n.params,n.paramsSerializer),!0),p.timeout=n.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var e="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,r={data:n.responseType&&"text"!==n.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:e,config:n,request:p};o(t,c,r),p=null}},p.onabort=function(){p&&(c(s("Request aborted",n,"ECONNABORTED",p)),p=null)},p.onerror=function(){c(s("Network Error",n,null,p)),p=null},p.ontimeout=function(){c(s("timeout of "+n.timeout+"ms exceeded",n,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var _=e(30),y=(n.withCredentials||u(n.url))&&n.xsrfCookieName?_.read(n.xsrfCookieName):void 0;y&&(l[n.xsrfHeaderName]=y)}if("setRequestHeader"in p&&r.forEach(l,function(n,t){"undefined"===typeof f&&"content-type"===t.toLowerCase()?delete l[t]:p.setRequestHeader(t,n)}),n.withCredentials&&(p.withCredentials=!0),n.responseType)try{p.responseType=n.responseType}catch(m){if("json"!==n.responseType)throw m}"function"===typeof n.onDownloadProgress&&p.addEventListener("progress",n.onDownloadProgress),"function"===typeof n.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",n.onUploadProgress),n.cancelToken&&n.cancelToken.promise.then(function(n){p&&(p.abort(),c(n),p=null)}),void 0===f&&(f=null),p.send(f)})}},function(n,t,e){"use strict";var r=e(27);n.exports=function(n,t,e,o,i){var a=new Error(n);return r(a,t,e,o,i)}},function(n,t,e){"use strict";var r=e(0);n.exports=function(n,t){t=t||{};var e={};return r.forEach(["url","method","params","data"],function(n){"undefined"!==typeof t[n]&&(e[n]=t[n])}),r.forEach(["headers","auth","proxy"],function(o){r.isObject(t[o])?e[o]=r.deepMerge(n[o],t[o]):"undefined"!==typeof t[o]?e[o]=t[o]:r.isObject(n[o])?e[o]=r.deepMerge(n[o]):"undefined"!==typeof n[o]&&(e[o]=n[o])}),r.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],function(r){"undefined"!==typeof t[r]?e[r]=t[r]:"undefined"!==typeof n[r]&&(e[r]=n[r])}),e}},function(n,t,e){"use strict";function r(n){this.message=n}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,n.exports=r},function(n,t,e){n.exports=e.p+"static/media/Diablo.f9195648.wasm"},function(n,t,e){(function(t,r){var o=function(){var n="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return function(o){var i,a="undefined"!==typeof(o=o||{})?o:{},u={};for(i in a)a.hasOwnProperty(i)&&(u[i]=a[i]);var s,c,f=[],l=function(n,t){throw t},p=!1,d=!1;p="object"===typeof window,d="function"===typeof importScripts,s="object"===typeof t&&"object"===typeof t.versions&&"string"===typeof t.versions.node&&!p&&!d,c=!p&&!s&&!d;var h,_,y,m,g="";s?(g=r+"/",h=function(n,t){var r;return y||(y=e(3)),m||(m=e(4)),n=m.normalize(n),r=y.readFileSync(n),t?r:r.toString()},_=function(n){var t=h(n,!0);return t.buffer||(t=new Uint8Array(t)),C(t.buffer),t},t.argv.length>1&&t.argv[1].replace(/\\/g,"/"),f=t.argv.slice(2),t.on("uncaughtException",function(n){if(!(n instanceof Fn))throw n}),t.on("unhandledRejection",Un),l=function(n){t.exit(n)},a.inspect=function(){return"[Emscripten Module object]"}):c?("undefined"!=typeof read&&(h=function(n){return read(n)}),_=function(n){var t;return"function"===typeof readbuffer?new Uint8Array(readbuffer(n)):(C("object"===typeof(t=read(n,"binary"))),t)},"undefined"!=typeof scriptArgs?f=scriptArgs:"undefined"!=typeof arguments&&(f=arguments),"function"===typeof quit&&(l=function(n){quit(n)}),"undefined"!==typeof print&&("undefined"===typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!==typeof printErr?printErr:print)):(p||d)&&(d?g=self.location.href:document.currentScript&&(g=document.currentScript.src),n&&(g=n),g=0!==g.indexOf("blob:")?g.substr(0,g.lastIndexOf("/")+1):"",h=function(n){var t=new XMLHttpRequest;return t.open("GET",n,!1),t.send(null),t.responseText},d&&(_=function(n){var t=new XMLHttpRequest;return t.open("GET",n,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),function(n,t,e){var r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):e()},r.onerror=e,r.send(null)});var v=a.print||console.log.bind(console),b=a.printErr||console.warn.bind(console);for(i in u)u.hasOwnProperty(i)&&(a[i]=u[i]);u=null,a.arguments&&(f=a.arguments),a.thisProgram&&a.thisProgram,a.quit&&(l=a.quit);var w,A,x={"f64-rem":function(n,t){return n%t},debugger:function(){}},j=(new Array(0),0),S=function(n){j=n};a.wasmBinary&&(w=a.wasmBinary),"object"!==typeof WebAssembly&&b("no native wasm support detected");var E=!1;function C(n,t){n||Un("Assertion failed: "+t)}var D="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function R(n,t,e){for(var r=t+e,o=t;n[o]&&!(o>=r);)++o;if(o-t>16&&n.subarray&&D)return D.decode(n.subarray(t,o));for(var i="";t<o;){var a=n[t++];if(128&a){var u=63&n[t++];if(192!=(224&a)){var s=63&n[t++];if((a=224==(240&a)?(15&a)<<12|u<<6|s:(7&a)<<18|u<<12|s<<6|63&n[t++])<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&a)<<6|u)}else i+=String.fromCharCode(a)}return i}function T(n,t){return n?R(O,n,t):""}var k,L,O,P,M;"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");function I(n,t){return n%t>0&&(n+=t-n%t),n}function F(){a.HEAP8=L=new Int8Array(k),a.HEAP16=new Int16Array(k),a.HEAP32=P=new Int32Array(k),a.HEAPU8=O=new Uint8Array(k),a.HEAPU16=new Uint16Array(k),a.HEAPU32=new Uint32Array(k),a.HEAPF32=M=new Float32Array(k),a.HEAPF64=new Float64Array(k)}var N=a.TOTAL_MEMORY||134217728;function U(n){for(;n.length>0;){var t=n.shift();if("function"!=typeof t){var e=t.func;"number"===typeof e?void 0===t.arg?a.dynCall_v(e):a.dynCall_vi(e,t.arg):e(void 0===t.arg?null:t.arg)}else t()}}(A=a.wasmMemory?a.wasmMemory:new WebAssembly.Memory({initial:N/65536}))&&(k=A.buffer),N=k.byteLength,F(),P[468704]=7117728;var q=[],B=[],H=[],z=[];function W(n){z.unshift(n)}var G=0,X=null,J=null;a.preloadedImages={},a.preloadedAudios={};var K="data:application/octet-stream;base64,";function V(n){return String.prototype.startsWith?n.startsWith(K):0===n.indexOf(K)}var Y,Z="Diablo.wasm";function $(){try{if(w)return new Uint8Array(w);if(_)return _(Z);throw"both async and sync fetching of the wasm failed"}catch(b){Un(b)}}function Q(n){var t={env:n,global:{NaN:NaN,Infinity:1/0},"global.Math":Math,asm2wasm:x};function e(n,t){var e=n.exports;a.asm=e,function(n){if(G--,a.monitorRunDependencies&&a.monitorRunDependencies(G),0==G&&(null!==X&&(clearInterval(X),X=null),J)){var t=J;J=null,t()}}()}function r(n){e(n.instance)}function o(n){return(w||!p&&!d||"function"!==typeof fetch?new Promise(function(n,t){n($())}):fetch(Z,{credentials:"same-origin"}).then(function(n){if(!n.ok)throw"failed to load wasm binary file at '"+Z+"'";return n.arrayBuffer()}).catch(function(){return $()})).then(function(n){return WebAssembly.instantiate(n,t)}).then(n,function(n){b("failed to asynchronously prepare wasm: "+n),Un(n)})}if(G++,a.monitorRunDependencies&&a.monitorRunDependencies(G),a.instantiateWasm)try{return a.instantiateWasm(t,e)}catch(i){return b("Module.instantiateWasm callback failed with error: "+i),!1}return function(){if(w||"function"!==typeof WebAssembly.instantiateStreaming||V(Z)||"function"!==typeof fetch)return o(r);fetch(Z,{credentials:"same-origin"}).then(function(n){return WebAssembly.instantiateStreaming(n,t).then(r,function(n){b("wasm streaming compile failed: "+n),b("falling back to ArrayBuffer instantiation"),o(r)})})}(),{}}V(Z)||(Y=Z,Z=a.locateFile?a.locateFile(Y,g):g+Y),a.asm=function(n,t,e){return t.memory=A,t.table=new WebAssembly.Table({initial:1114,maximum:1114,element:"anyfunc"}),t.__memory_base=1024,t.__table_base=0,Q(t)};var nn=[function(n){self.DApi.current_save_id(n)}];B.push({func:function(){vn()}});var tn={},en=[];function rn(n){if(!n||tn[n])return n;for(var t in tn)for(var e=+t,r=tn[e].adjusted,o=r.length,i=0;i<o;i++)if(r[i]===n)return e;return n}var on=0;function an(n){try{return yn(n)}catch(t){}}function un(){var n=on;if(!n)return 0|(S(0),0);var t=tn[n],e=t.type;if(!e)return 0|(S(0),n);var r=Array.prototype.slice.call(arguments);_n(e);P[468700]=n,n=1874800;for(var o=0;o<r.length;o++)if(r[o]&&hn(r[o],e,n))return n=P[n>>2],t.adjusted.push(n),0|(S(r[o]),n);return n=P[n>>2],0|(S(e),n)}a.___cxa_find_matching_catch=un;var sn={buffers:[null,[],[]],printChar:function(n,t){var e=sn.buffers[n];0===t||10===t?((1===n?v:b)(R(e,0)),e.length=0):e.push(t)},varargs:0,get:function(n){return sn.varargs+=4,P[sn.varargs-4>>2]},getStr:function(){return T(sn.get())},get64:function(){var n=sn.get();sn.get();return n},getZero:function(){sn.get()}};function cn(){return L.length}var fn={n:Un,L:S,b:function(){return j},ra:function(n){var t=wn();try{return An(n)}catch(e){if(bn(t),e!==e+0&&"longjmp"!==e)throw e;gn(1,0)}},g:function(n,t){var e=wn();try{return xn(n,t)}catch(r){if(bn(e),r!==r+0&&"longjmp"!==r)throw r;gn(1,0)}},l:function(n,t,e){var r=wn();try{return jn(n,t,e)}catch(o){if(bn(r),o!==o+0&&"longjmp"!==o)throw o;gn(1,0)}},o:function(n,t,e,r){var o=wn();try{return Sn(n,t,e,r)}catch(i){if(bn(o),i!==i+0&&"longjmp"!==i)throw i;gn(1,0)}},s:function(n,t,e,r,o){var i=wn();try{return En(n,t,e,r,o)}catch(a){if(bn(i),a!==a+0&&"longjmp"!==a)throw a;gn(1,0)}},t:function(n,t,e,r,o,i){var a=wn();try{return Cn(n,t,e,r,o,i)}catch(u){if(bn(a),u!==u+0&&"longjmp"!==u)throw u;gn(1,0)}},K:function(n,t){var e=wn();try{return Dn(n,t)}catch(r){if(bn(e),r!==r+0&&"longjmp"!==r)throw r;gn(1,0)}},u:function(n){var t=wn();try{Rn(n)}catch(e){if(bn(t),e!==e+0&&"longjmp"!==e)throw e;gn(1,0)}},f:function(n,t){var e=wn();try{Tn(n,t)}catch(r){if(bn(e),r!==r+0&&"longjmp"!==r)throw r;gn(1,0)}},e:function(n,t,e){var r=wn();try{kn(n,t,e)}catch(o){if(bn(r),o!==o+0&&"longjmp"!==o)throw o;gn(1,0)}},j:function(n,t,e,r){var o=wn();try{Ln(n,t,e,r)}catch(i){if(bn(o),i!==i+0&&"longjmp"!==i)throw i;gn(1,0)}},q:function(n,t,e,r,o){var i=wn();try{On(n,t,e,r,o)}catch(a){if(bn(i),a!==a+0&&"longjmp"!==a)throw a;gn(1,0)}},r:function(n,t,e,r,o,i){var a=wn();try{Pn(n,t,e,r,o,i)}catch(u){if(bn(a),u!==u+0&&"longjmp"!==u)throw u;gn(1,0)}},A:function(n,t,e,r,o,i,a,u){var s=wn();try{Mn(n,t,e,r,o,i,a,u)}catch(c){if(bn(s),c!==c+0&&"longjmp"!==c)throw c;gn(1,0)}},J:function(n,t,e,r,o){var i=wn();try{In(n,t,e,r,o)}catch(a){if(bn(i),a!==a+0&&"longjmp"!==a)throw a;gn(1,0)}},z:function(n,t,e,r){Un("Assertion failed: "+T(n)+", at: "+[t?T(t):"unknown filename",e,r?T(r):"unknown function"])},i:function(n){return mn(n)},y:function(n){var t=tn[n];return t&&!t.caught&&(t.caught=!0,dn.uncaught_exceptions--),t&&(t.rethrown=!1),en.push(n),function(n){n&&tn[n].refcount++}(rn(n)),n},I:function(){gn(0);var n=en.pop();n&&(function(n){if(n){var t=tn[n];t.refcount--,0!==t.refcount||t.rethrown||(t.destructor&&a.dynCall_vi(t.destructor,n),delete tn[n],an(n))}}(rn(n)),on=0)},c:function(n,t){return un(n,t)},h:function(n,t,e){return un(n,t,e)},m:an,qa:function(n){return n},pa:function(){throw E=!0,"Pure virtual function called!"},k:function(n,t,e){throw tn[n]={ptr:n,adjusted:[n],type:t,destructor:e,refcount:0,caught:!1,rethrown:!1},on=n,"uncaught_exception"in dn?dn.uncaught_exceptions++:dn.uncaught_exceptions=1,n},oa:function(){return dn.uncaught_exceptions},na:function(){},d:function(n){throw on||(on=n),n},H:function(n){return a.___errno_location&&(P[a.___errno_location()>>2]=n),n},ma:function(n,t){sn.varargs=t;try{return sn.getStreamFromFD(),sn.get(),sn.get(),sn.get(),sn.get(),0}catch(e){return"undefined"!==typeof FS&&e instanceof FS.ErrnoError||Un(e),-e.errno}},G:function(n,t){sn.varargs=t;try{for(var e=sn.get(),r=sn.get(),o=sn.get(),i=0,a=0;a<o;a++){for(var u=P[r+8*a>>2],s=P[r+(8*a+4)>>2],c=0;c<s;c++)sn.printChar(e,O[u+c]);i+=s}return i}catch(f){return"undefined"!==typeof FS&&f instanceof FS.ErrnoError||Un(f),-f.errno}},la:function(n,t){sn.varargs=t;try{return 0}catch(e){return"undefined"!==typeof FS&&e instanceof FS.ErrnoError||Un(e),-e.errno}},ka:function(n,t){sn.varargs=t;try{return sn.getStreamFromFD(),0}catch(e){return"undefined"!==typeof FS&&e instanceof FS.ErrnoError||Un(e),-e.errno}},F:function(){},E:function(){a.abort()},ja:function(){self.DApi.close_keyboard()},ia:function(n,t,e){self.DApi.create_sound(n,O.slice(t,t+e))},ha:function(n,t,e,r,o){self.DApi.create_sound_raw(n,M.slice(t/4,t/4+e*r),e,r,o)},ga:function(n){self.DApi.delete_sound(n)},fa:function(){self.DApi.draw_begin()},ea:function(n){self.DApi.draw_belt(P.subarray(n/4,n/4+8))},D:function(n,t,e,r,o){self.DApi.draw_blit(n,t,e,r,O.subarray(o,o+e*r*4))},da:function(n,t,e,r){self.DApi.draw_clip_text(n,t,e,r)},w:function(){self.DApi.draw_end()},ca:function(n,t,e,r){var o=O.indexOf(0,e),i=String.fromCharCode.apply(null,O.subarray(e,o));self.DApi.draw_text(n,t,i,r)},ba:function(n,t){self.DApi.duplicate_sound(n,t)},aa:function(){self.DApi.exit_game()},C:function(n,t,e,r){self.DApi.open_keyboard(n,t,e,r)},B:function(n,t,e,r){self.DApi.play_sound(n,t,e,r)},$:function(n,t){self.DApi.set_cursor(n,t)},_:function(n,t){self.DApi.set_volume(n,t)},Z:function(n){self.DApi.stop_sound(n)},Y:function(){return self.DApi.websocket_closed()},X:function(n,t){self.DApi.websocket_send(O.subarray(n,n+t))},W:function(n,t){return nn[n](t)},V:cn,U:function(n,t,e){O.set(O.subarray(t,t+e),n)},T:function(n){var t=cn();if(n>2147418112)return!1;for(var e=Math.max(t,16777216);e<n;)e=e<=536870912?I(2*e,65536):Math.min(I((3*e+2147483648)/4,65536),2147418112);return!!function(n){n=I(n,65536);var t=k.byteLength;try{return-1!==A.grow((n-t)/65536)&&(k=A.buffer,!0)}catch(e){return!1}}(e)&&(F(),!0)},p:function(n){!function(n,t){t&&a.noExitRuntime&&0===n||(a.noExitRuntime||(E=!0,n,!0,a.onExit&&a.onExit(n)),l(n,new Fn(n)))}(n)},S:function(n){var t=O.indexOf(0,n),e=String.fromCharCode.apply(null,O.subarray(n,t));self.DApi.exit_error(e)},v:function(n,t,e,r){var o=O.indexOf(0,n),i=String.fromCharCode.apply(null,O.subarray(n,o));self.DApi.get_file_contents(i,O.subarray(t,t+r),e)},R:function(n){var t=O.indexOf(0,n),e=String.fromCharCode.apply(null,O.subarray(n,t));return self.DApi.get_file_size(e)},Q:function(n){return n},P:function(){Un("trap!")},O:function(n,t,e){var r=O.indexOf(0,n),o=String.fromCharCode.apply(null,O.subarray(n,r));self.DApi.put_file_contents(o,O.slice(t,t+e))},N:function(n){var t=O.indexOf(0,n),e=String.fromCharCode.apply(null,O.subarray(n,t));self.DApi.remove_file(e)},x:function(n){var t=Date.now()/1e3|0;return n&&(P[n>>2]=t),t},M:function(n){Un("OOM")},a:1874816},ln=a.asm({},fn,k);a.asm=ln;a._DApi_AllocPacket=function(){return a.asm.sa.apply(null,arguments)},a._DApi_Char=function(){return a.asm.ta.apply(null,arguments)},a._DApi_Init=function(){return a.asm.ua.apply(null,arguments)},a._DApi_Key=function(){return a.asm.va.apply(null,arguments)},a._DApi_Mouse=function(){return a.asm.wa.apply(null,arguments)},a._DApi_Render=function(){return a.asm.xa.apply(null,arguments)},a._DApi_SyncText=function(){return a.asm.ya.apply(null,arguments)},a._SNet_InitWebsocket=function(){return a.asm.za.apply(null,arguments)};var pn,dn=a.__ZSt18uncaught_exceptionv=function(){return a.asm.Aa.apply(null,arguments)},hn=a.___cxa_can_catch=function(){return a.asm.Ba.apply(null,arguments)},_n=a.___cxa_is_pointer_type=function(){return a.asm.Ca.apply(null,arguments)},yn=(a.___em_js__api_close_keyboard=function(){return a.asm.Da.apply(null,arguments)},a.___em_js__api_create_sound=function(){return a.asm.Ea.apply(null,arguments)},a.___em_js__api_create_sound_float=function(){return a.asm.Fa.apply(null,arguments)},a.___em_js__api_delete_sound=function(){return a.asm.Ga.apply(null,arguments)},a.___em_js__api_draw_begin=function(){return a.asm.Ha.apply(null,arguments)},a.___em_js__api_draw_belt=function(){return a.asm.Ia.apply(null,arguments)},a.___em_js__api_draw_blit=function(){return a.asm.Ja.apply(null,arguments)},a.___em_js__api_draw_clip_text=function(){return a.asm.Ka.apply(null,arguments)},a.___em_js__api_draw_end=function(){return a.asm.La.apply(null,arguments)},a.___em_js__api_draw_text=function(){return a.asm.Ma.apply(null,arguments)},a.___em_js__api_duplicate_sound=function(){return a.asm.Na.apply(null,arguments)},a.___em_js__api_exit_game=function(){return a.asm.Oa.apply(null,arguments)},a.___em_js__api_open_keyboard=function(){return a.asm.Pa.apply(null,arguments)},a.___em_js__api_play_sound=function(){return a.asm.Qa.apply(null,arguments)},a.___em_js__api_set_cursor=function(){return a.asm.Ra.apply(null,arguments)},a.___em_js__api_set_volume=function(){return a.asm.Sa.apply(null,arguments)},a.___em_js__api_stop_sound=function(){return a.asm.Ta.apply(null,arguments)},a.___em_js__api_websocket_closed=function(){return a.asm.Ua.apply(null,arguments)},a.___em_js__api_websocket_send=function(){return a.asm.Va.apply(null,arguments)},a.___em_js__exit_error=function(){return a.asm.Wa.apply(null,arguments)},a.___em_js__get_file_contents=function(){return a.asm.Xa.apply(null,arguments)},a.___em_js__get_file_size=function(){return a.asm.Ya.apply(null,arguments)},a.___em_js__put_file_contents=function(){return a.asm.Za.apply(null,arguments)},a.___em_js__remove_file=function(){return a.asm._a.apply(null,arguments)},a.___em_js__show_alert=function(){return a.asm.$a.apply(null,arguments)},a.___em_js__trace_pop=function(){return a.asm.ab.apply(null,arguments)},a.___em_js__trace_push=function(){return a.asm.bb.apply(null,arguments)},a._free=function(){return a.asm.cb.apply(null,arguments)}),mn=a._malloc=function(){return a.asm.db.apply(null,arguments)},gn=a._setThrew=function(){return a.asm.eb.apply(null,arguments)},vn=a.globalCtors=function(){return a.asm.ub.apply(null,arguments)},bn=a.stackRestore=function(){return a.asm.vb.apply(null,arguments)},wn=a.stackSave=function(){return a.asm.wb.apply(null,arguments)},An=a.dynCall_i=function(){return a.asm.fb.apply(null,arguments)},xn=a.dynCall_ii=function(){return a.asm.gb.apply(null,arguments)},jn=a.dynCall_iii=function(){return a.asm.hb.apply(null,arguments)},Sn=a.dynCall_iiii=function(){return a.asm.ib.apply(null,arguments)},En=a.dynCall_iiiii=function(){return a.asm.jb.apply(null,arguments)},Cn=a.dynCall_iiiiii=function(){return a.asm.kb.apply(null,arguments)},Dn=a.dynCall_ji=function(){return a.asm.lb.apply(null,arguments)},Rn=a.dynCall_v=function(){return a.asm.mb.apply(null,arguments)},Tn=a.dynCall_vi=function(){return a.asm.nb.apply(null,arguments)},kn=a.dynCall_vii=function(){return a.asm.ob.apply(null,arguments)},Ln=a.dynCall_viii=function(){return a.asm.pb.apply(null,arguments)},On=a.dynCall_viiii=function(){return a.asm.qb.apply(null,arguments)},Pn=a.dynCall_viiiii=function(){return a.asm.rb.apply(null,arguments)},Mn=a.dynCall_viiiiiii=function(){return a.asm.sb.apply(null,arguments)},In=a.dynCall_viji=function(){return a.asm.tb.apply(null,arguments)};function Fn(n){this.name="ExitStatus",this.message="Program terminated with exit("+n+")",this.status=n}function Nn(n){function t(){pn||(pn=!0,E||(!0,U(B),U(H),a.onRuntimeInitialized&&a.onRuntimeInitialized(),function(){if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)W(a.postRun.shift());U(z)}()))}n=n||f,G>0||(!function(){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)n=a.preRun.shift(),q.unshift(n);var n;U(q)}(),G>0||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),t()},1)):t()))}function Un(n){throw a.onAbort&&a.onAbort(n),v(n+=""),b(n),E=!0,1,"abort("+n+"). Build with -s ASSERTIONS=1 for more info."}if(a.asm=ln,a.then=function(n){if(pn)n(a);else{var t=a.onRuntimeInitialized;a.onRuntimeInitialized=function(){t&&t(),n(a)}}return a},J=function n(){pn||Nn(),pn||(J=n)},a.run=Nn,a.abort=Un,a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return a.noExitRuntime=!0,Nn(),a.ready=new Promise(function(n,t){delete a.then,a.onAbort=function(n){t(n)},W(function(){n(a)})}),o}}();n.exports=o}).call(this,e(2),"/")},function(n,t,e){n.exports=e.p+"static/media/DiabloSpawn.6f6c0622.wasm"},function(n,t,e){(function(t,r){var o=function(){var n="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return function(o){var i,a="undefined"!==typeof(o=o||{})?o:{},u={};for(i in a)a.hasOwnProperty(i)&&(u[i]=a[i]);var s,c,f=[],l=function(n,t){throw t},p=!1,d=!1;p="object"===typeof window,d="function"===typeof importScripts,s="object"===typeof t&&"object"===typeof t.versions&&"string"===typeof t.versions.node&&!p&&!d,c=!p&&!s&&!d;var h,_,y,m,g="";s?(g=r+"/",h=function(n,t){var r;return y||(y=e(3)),m||(m=e(4)),n=m.normalize(n),r=y.readFileSync(n),t?r:r.toString()},_=function(n){var t=h(n,!0);return t.buffer||(t=new Uint8Array(t)),C(t.buffer),t},t.argv.length>1&&t.argv[1].replace(/\\/g,"/"),f=t.argv.slice(2),t.on("uncaughtException",function(n){if(!(n instanceof Fn))throw n}),t.on("unhandledRejection",Un),l=function(n){t.exit(n)},a.inspect=function(){return"[Emscripten Module object]"}):c?("undefined"!=typeof read&&(h=function(n){return read(n)}),_=function(n){var t;return"function"===typeof readbuffer?new Uint8Array(readbuffer(n)):(C("object"===typeof(t=read(n,"binary"))),t)},"undefined"!=typeof scriptArgs?f=scriptArgs:"undefined"!=typeof arguments&&(f=arguments),"function"===typeof quit&&(l=function(n){quit(n)}),"undefined"!==typeof print&&("undefined"===typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!==typeof printErr?printErr:print)):(p||d)&&(d?g=self.location.href:document.currentScript&&(g=document.currentScript.src),n&&(g=n),g=0!==g.indexOf("blob:")?g.substr(0,g.lastIndexOf("/")+1):"",h=function(n){var t=new XMLHttpRequest;return t.open("GET",n,!1),t.send(null),t.responseText},d&&(_=function(n){var t=new XMLHttpRequest;return t.open("GET",n,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),function(n,t,e){var r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):e()},r.onerror=e,r.send(null)});var v=a.print||console.log.bind(console),b=a.printErr||console.warn.bind(console);for(i in u)u.hasOwnProperty(i)&&(a[i]=u[i]);u=null,a.arguments&&(f=a.arguments),a.thisProgram&&a.thisProgram,a.quit&&(l=a.quit);var w,A,x={"f64-rem":function(n,t){return n%t},debugger:function(){}},j=(new Array(0),0),S=function(n){j=n};a.wasmBinary&&(w=a.wasmBinary),"object"!==typeof WebAssembly&&b("no native wasm support detected");var E=!1;function C(n,t){n||Un("Assertion failed: "+t)}var D="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function R(n,t,e){for(var r=t+e,o=t;n[o]&&!(o>=r);)++o;if(o-t>16&&n.subarray&&D)return D.decode(n.subarray(t,o));for(var i="";t<o;){var a=n[t++];if(128&a){var u=63&n[t++];if(192!=(224&a)){var s=63&n[t++];if((a=224==(240&a)?(15&a)<<12|u<<6|s:(7&a)<<18|u<<12|s<<6|63&n[t++])<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&a)<<6|u)}else i+=String.fromCharCode(a)}return i}function T(n,t){return n?R(O,n,t):""}var k,L,O,P,M;"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");function I(n,t){return n%t>0&&(n+=t-n%t),n}function F(){a.HEAP8=L=new Int8Array(k),a.HEAP16=new Int16Array(k),a.HEAP32=P=new Int32Array(k),a.HEAPU8=O=new Uint8Array(k),a.HEAPU16=new Uint16Array(k),a.HEAPU32=new Uint32Array(k),a.HEAPF32=M=new Float32Array(k),a.HEAPF64=new Float64Array(k)}var N=a.TOTAL_MEMORY||134217728;function U(n){for(;n.length>0;){var t=n.shift();if("function"!=typeof t){var e=t.func;"number"===typeof e?void 0===t.arg?a.dynCall_v(e):a.dynCall_vi(e,t.arg):e(void 0===t.arg?null:t.arg)}else t()}}(A=a.wasmMemory?a.wasmMemory:new WebAssembly.Memory({initial:N/65536}))&&(k=A.buffer),N=k.byteLength,F(),P[462504]=7092928;var q=[],B=[],H=[],z=[];function W(n){z.unshift(n)}var G=0,X=null,J=null;a.preloadedImages={},a.preloadedAudios={};var K="data:application/octet-stream;base64,";function V(n){return String.prototype.startsWith?n.startsWith(K):0===n.indexOf(K)}var Y,Z="DiabloSpawn.wasm";function $(){try{if(w)return new Uint8Array(w);if(_)return _(Z);throw"both async and sync fetching of the wasm failed"}catch(b){Un(b)}}function Q(n){var t={env:n,global:{NaN:NaN,Infinity:1/0},"global.Math":Math,asm2wasm:x};function e(n,t){var e=n.exports;a.asm=e,function(n){if(G--,a.monitorRunDependencies&&a.monitorRunDependencies(G),0==G&&(null!==X&&(clearInterval(X),X=null),J)){var t=J;J=null,t()}}()}function r(n){e(n.instance)}function o(n){return(w||!p&&!d||"function"!==typeof fetch?new Promise(function(n,t){n($())}):fetch(Z,{credentials:"same-origin"}).then(function(n){if(!n.ok)throw"failed to load wasm binary file at '"+Z+"'";return n.arrayBuffer()}).catch(function(){return $()})).then(function(n){return WebAssembly.instantiate(n,t)}).then(n,function(n){b("failed to asynchronously prepare wasm: "+n),Un(n)})}if(G++,a.monitorRunDependencies&&a.monitorRunDependencies(G),a.instantiateWasm)try{return a.instantiateWasm(t,e)}catch(i){return b("Module.instantiateWasm callback failed with error: "+i),!1}return function(){if(w||"function"!==typeof WebAssembly.instantiateStreaming||V(Z)||"function"!==typeof fetch)return o(r);fetch(Z,{credentials:"same-origin"}).then(function(n){return WebAssembly.instantiateStreaming(n,t).then(r,function(n){b("wasm streaming compile failed: "+n),b("falling back to ArrayBuffer instantiation"),o(r)})})}(),{}}V(Z)||(Y=Z,Z=a.locateFile?a.locateFile(Y,g):g+Y),a.asm=function(n,t,e){return t.memory=A,t.table=new WebAssembly.Table({initial:1114,maximum:1114,element:"anyfunc"}),t.__memory_base=1024,t.__table_base=0,Q(t)};var nn=[function(n){self.DApi.current_save_id(n)}];B.push({func:function(){vn()}});var tn={},en=[];function rn(n){if(!n||tn[n])return n;for(var t in tn)for(var e=+t,r=tn[e].adjusted,o=r.length,i=0;i<o;i++)if(r[i]===n)return e;return n}var on=0;function an(n){try{return yn(n)}catch(t){}}function un(){var n=on;if(!n)return 0|(S(0),0);var t=tn[n],e=t.type;if(!e)return 0|(S(0),n);var r=Array.prototype.slice.call(arguments);_n(e);P[462500]=n,n=185e4;for(var o=0;o<r.length;o++)if(r[o]&&hn(r[o],e,n))return n=P[n>>2],t.adjusted.push(n),0|(S(r[o]),n);return n=P[n>>2],0|(S(e),n)}a.___cxa_find_matching_catch=un;var sn={buffers:[null,[],[]],printChar:function(n,t){var e=sn.buffers[n];0===t||10===t?((1===n?v:b)(R(e,0)),e.length=0):e.push(t)},varargs:0,get:function(n){return sn.varargs+=4,P[sn.varargs-4>>2]},getStr:function(){return T(sn.get())},get64:function(){var n=sn.get();sn.get();return n},getZero:function(){sn.get()}};function cn(){return L.length}var fn={n:Un,L:S,b:function(){return j},ra:function(n){var t=wn();try{return An(n)}catch(e){if(bn(t),e!==e+0&&"longjmp"!==e)throw e;gn(1,0)}},g:function(n,t){var e=wn();try{return xn(n,t)}catch(r){if(bn(e),r!==r+0&&"longjmp"!==r)throw r;gn(1,0)}},m:function(n,t,e){var r=wn();try{return jn(n,t,e)}catch(o){if(bn(r),o!==o+0&&"longjmp"!==o)throw o;gn(1,0)}},o:function(n,t,e,r){var o=wn();try{return Sn(n,t,e,r)}catch(i){if(bn(o),i!==i+0&&"longjmp"!==i)throw i;gn(1,0)}},s:function(n,t,e,r,o){var i=wn();try{return En(n,t,e,r,o)}catch(a){if(bn(i),a!==a+0&&"longjmp"!==a)throw a;gn(1,0)}},t:function(n,t,e,r,o,i){var a=wn();try{return Cn(n,t,e,r,o,i)}catch(u){if(bn(a),u!==u+0&&"longjmp"!==u)throw u;gn(1,0)}},K:function(n,t){var e=wn();try{return Dn(n,t)}catch(r){if(bn(e),r!==r+0&&"longjmp"!==r)throw r;gn(1,0)}},u:function(n){var t=wn();try{Rn(n)}catch(e){if(bn(t),e!==e+0&&"longjmp"!==e)throw e;gn(1,0)}},f:function(n,t){var e=wn();try{Tn(n,t)}catch(r){if(bn(e),r!==r+0&&"longjmp"!==r)throw r;gn(1,0)}},e:function(n,t,e){var r=wn();try{kn(n,t,e)}catch(o){if(bn(r),o!==o+0&&"longjmp"!==o)throw o;gn(1,0)}},j:function(n,t,e,r){var o=wn();try{Ln(n,t,e,r)}catch(i){if(bn(o),i!==i+0&&"longjmp"!==i)throw i;gn(1,0)}},q:function(n,t,e,r,o){var i=wn();try{On(n,t,e,r,o)}catch(a){if(bn(i),a!==a+0&&"longjmp"!==a)throw a;gn(1,0)}},r:function(n,t,e,r,o,i){var a=wn();try{Pn(n,t,e,r,o,i)}catch(u){if(bn(a),u!==u+0&&"longjmp"!==u)throw u;gn(1,0)}},A:function(n,t,e,r,o,i,a,u){var s=wn();try{Mn(n,t,e,r,o,i,a,u)}catch(c){if(bn(s),c!==c+0&&"longjmp"!==c)throw c;gn(1,0)}},J:function(n,t,e,r,o){var i=wn();try{In(n,t,e,r,o)}catch(a){if(bn(i),a!==a+0&&"longjmp"!==a)throw a;gn(1,0)}},z:function(n,t,e,r){Un("Assertion failed: "+T(n)+", at: "+[t?T(t):"unknown filename",e,r?T(r):"unknown function"])},i:function(n){return mn(n)},y:function(n){var t=tn[n];return t&&!t.caught&&(t.caught=!0,dn.uncaught_exceptions--),t&&(t.rethrown=!1),en.push(n),function(n){n&&tn[n].refcount++}(rn(n)),n},I:function(){gn(0);var n=en.pop();n&&(function(n){if(n){var t=tn[n];t.refcount--,0!==t.refcount||t.rethrown||(t.destructor&&a.dynCall_vi(t.destructor,n),delete tn[n],an(n))}}(rn(n)),on=0)},c:function(n,t){return un(n,t)},h:function(n,t,e){return un(n,t,e)},l:an,qa:function(n){return n},pa:function(){throw E=!0,"Pure virtual function called!"},k:function(n,t,e){throw tn[n]={ptr:n,adjusted:[n],type:t,destructor:e,refcount:0,caught:!1,rethrown:!1},on=n,"uncaught_exception"in dn?dn.uncaught_exceptions++:dn.uncaught_exceptions=1,n},oa:function(){return dn.uncaught_exceptions},na:function(){},d:function(n){throw on||(on=n),n},H:function(n){return a.___errno_location&&(P[a.___errno_location()>>2]=n),n},ma:function(n,t){sn.varargs=t;try{return sn.getStreamFromFD(),sn.get(),sn.get(),sn.get(),sn.get(),0}catch(e){return"undefined"!==typeof FS&&e instanceof FS.ErrnoError||Un(e),-e.errno}},G:function(n,t){sn.varargs=t;try{for(var e=sn.get(),r=sn.get(),o=sn.get(),i=0,a=0;a<o;a++){for(var u=P[r+8*a>>2],s=P[r+(8*a+4)>>2],c=0;c<s;c++)sn.printChar(e,O[u+c]);i+=s}return i}catch(f){return"undefined"!==typeof FS&&f instanceof FS.ErrnoError||Un(f),-f.errno}},la:function(n,t){sn.varargs=t;try{return 0}catch(e){return"undefined"!==typeof FS&&e instanceof FS.ErrnoError||Un(e),-e.errno}},ka:function(n,t){sn.varargs=t;try{return sn.getStreamFromFD(),0}catch(e){return"undefined"!==typeof FS&&e instanceof FS.ErrnoError||Un(e),-e.errno}},F:function(){},E:function(){a.abort()},ja:function(){self.DApi.close_keyboard()},ia:function(n,t,e){self.DApi.create_sound(n,O.slice(t,t+e))},ha:function(n,t,e,r,o){self.DApi.create_sound_raw(n,M.slice(t/4,t/4+e*r),e,r,o)},ga:function(n){self.DApi.delete_sound(n)},fa:function(){self.DApi.draw_begin()},ea:function(n){self.DApi.draw_belt(P.subarray(n/4,n/4+8))},D:function(n,t,e,r,o){self.DApi.draw_blit(n,t,e,r,O.subarray(o,o+e*r*4))},da:function(n,t,e,r){self.DApi.draw_clip_text(n,t,e,r)},w:function(){self.DApi.draw_end()},ca:function(n,t,e,r){var o=O.indexOf(0,e),i=String.fromCharCode.apply(null,O.subarray(e,o));self.DApi.draw_text(n,t,i,r)},ba:function(n,t){self.DApi.duplicate_sound(n,t)},aa:function(){self.DApi.exit_game()},C:function(n,t,e,r){self.DApi.open_keyboard(n,t,e,r)},B:function(n,t,e,r){self.DApi.play_sound(n,t,e,r)},$:function(n,t){self.DApi.set_cursor(n,t)},_:function(n,t){self.DApi.set_volume(n,t)},Z:function(n){self.DApi.stop_sound(n)},Y:function(){return self.DApi.websocket_closed()},X:function(n,t){self.DApi.websocket_send(O.subarray(n,n+t))},W:function(n,t){return nn[n](t)},V:cn,U:function(n,t,e){O.set(O.subarray(t,t+e),n)},T:function(n){var t=cn();if(n>2147418112)return!1;for(var e=Math.max(t,16777216);e<n;)e=e<=536870912?I(2*e,65536):Math.min(I((3*e+2147483648)/4,65536),2147418112);return!!function(n){n=I(n,65536);var t=k.byteLength;try{return-1!==A.grow((n-t)/65536)&&(k=A.buffer,!0)}catch(e){return!1}}(e)&&(F(),!0)},p:function(n){!function(n,t){t&&a.noExitRuntime&&0===n||(a.noExitRuntime||(E=!0,n,!0,a.onExit&&a.onExit(n)),l(n,new Fn(n)))}(n)},S:function(n){var t=O.indexOf(0,n),e=String.fromCharCode.apply(null,O.subarray(n,t));self.DApi.exit_error(e)},v:function(n,t,e,r){var o=O.indexOf(0,n),i=String.fromCharCode.apply(null,O.subarray(n,o));self.DApi.get_file_contents(i,O.subarray(t,t+r),e)},R:function(n){var t=O.indexOf(0,n),e=String.fromCharCode.apply(null,O.subarray(n,t));return self.DApi.get_file_size(e)},Q:function(n){return n},P:function(){Un("trap!")},O:function(n,t,e){var r=O.indexOf(0,n),o=String.fromCharCode.apply(null,O.subarray(n,r));self.DApi.put_file_contents(o,O.slice(t,t+e))},N:function(n){var t=O.indexOf(0,n),e=String.fromCharCode.apply(null,O.subarray(n,t));self.DApi.remove_file(e)},x:function(n){var t=Date.now()/1e3|0;return n&&(P[n>>2]=t),t},M:function(n){Un("OOM")},a:1850016},ln=a.asm({},fn,k);a.asm=ln;a._DApi_AllocPacket=function(){return a.asm.sa.apply(null,arguments)},a._DApi_Char=function(){return a.asm.ta.apply(null,arguments)},a._DApi_Init=function(){return a.asm.ua.apply(null,arguments)},a._DApi_Key=function(){return a.asm.va.apply(null,arguments)},a._DApi_Mouse=function(){return a.asm.wa.apply(null,arguments)},a._DApi_Render=function(){return a.asm.xa.apply(null,arguments)},a._DApi_SyncText=function(){return a.asm.ya.apply(null,arguments)},a._SNet_InitWebsocket=function(){return a.asm.za.apply(null,arguments)};var pn,dn=a.__ZSt18uncaught_exceptionv=function(){return a.asm.Aa.apply(null,arguments)},hn=a.___cxa_can_catch=function(){return a.asm.Ba.apply(null,arguments)},_n=a.___cxa_is_pointer_type=function(){return a.asm.Ca.apply(null,arguments)},yn=(a.___em_js__api_close_keyboard=function(){return a.asm.Da.apply(null,arguments)},a.___em_js__api_create_sound=function(){return a.asm.Ea.apply(null,arguments)},a.___em_js__api_create_sound_float=function(){return a.asm.Fa.apply(null,arguments)},a.___em_js__api_delete_sound=function(){return a.asm.Ga.apply(null,arguments)},a.___em_js__api_draw_begin=function(){return a.asm.Ha.apply(null,arguments)},a.___em_js__api_draw_belt=function(){return a.asm.Ia.apply(null,arguments)},a.___em_js__api_draw_blit=function(){return a.asm.Ja.apply(null,arguments)},a.___em_js__api_draw_clip_text=function(){return a.asm.Ka.apply(null,arguments)},a.___em_js__api_draw_end=function(){return a.asm.La.apply(null,arguments)},a.___em_js__api_draw_text=function(){return a.asm.Ma.apply(null,arguments)},a.___em_js__api_duplicate_sound=function(){return a.asm.Na.apply(null,arguments)},a.___em_js__api_exit_game=function(){return a.asm.Oa.apply(null,arguments)},a.___em_js__api_open_keyboard=function(){return a.asm.Pa.apply(null,arguments)},a.___em_js__api_play_sound=function(){return a.asm.Qa.apply(null,arguments)},a.___em_js__api_set_cursor=function(){return a.asm.Ra.apply(null,arguments)},a.___em_js__api_set_volume=function(){return a.asm.Sa.apply(null,arguments)},a.___em_js__api_stop_sound=function(){return a.asm.Ta.apply(null,arguments)},a.___em_js__api_websocket_closed=function(){return a.asm.Ua.apply(null,arguments)},a.___em_js__api_websocket_send=function(){return a.asm.Va.apply(null,arguments)},a.___em_js__exit_error=function(){return a.asm.Wa.apply(null,arguments)},a.___em_js__get_file_contents=function(){return a.asm.Xa.apply(null,arguments)},a.___em_js__get_file_size=function(){return a.asm.Ya.apply(null,arguments)},a.___em_js__put_file_contents=function(){return a.asm.Za.apply(null,arguments)},a.___em_js__remove_file=function(){return a.asm._a.apply(null,arguments)},a.___em_js__show_alert=function(){return a.asm.$a.apply(null,arguments)},a.___em_js__trace_pop=function(){return a.asm.ab.apply(null,arguments)},a.___em_js__trace_push=function(){return a.asm.bb.apply(null,arguments)},a._free=function(){return a.asm.cb.apply(null,arguments)}),mn=a._malloc=function(){return a.asm.db.apply(null,arguments)},gn=a._setThrew=function(){return a.asm.eb.apply(null,arguments)},vn=a.globalCtors=function(){return a.asm.ub.apply(null,arguments)},bn=a.stackRestore=function(){return a.asm.vb.apply(null,arguments)},wn=a.stackSave=function(){return a.asm.wb.apply(null,arguments)},An=a.dynCall_i=function(){return a.asm.fb.apply(null,arguments)},xn=a.dynCall_ii=function(){return a.asm.gb.apply(null,arguments)},jn=a.dynCall_iii=function(){return a.asm.hb.apply(null,arguments)},Sn=a.dynCall_iiii=function(){return a.asm.ib.apply(null,arguments)},En=a.dynCall_iiiii=function(){return a.asm.jb.apply(null,arguments)},Cn=a.dynCall_iiiiii=function(){return a.asm.kb.apply(null,arguments)},Dn=a.dynCall_ji=function(){return a.asm.lb.apply(null,arguments)},Rn=a.dynCall_v=function(){return a.asm.mb.apply(null,arguments)},Tn=a.dynCall_vi=function(){return a.asm.nb.apply(null,arguments)},kn=a.dynCall_vii=function(){return a.asm.ob.apply(null,arguments)},Ln=a.dynCall_viii=function(){return a.asm.pb.apply(null,arguments)},On=a.dynCall_viiii=function(){return a.asm.qb.apply(null,arguments)},Pn=a.dynCall_viiiii=function(){return a.asm.rb.apply(null,arguments)},Mn=a.dynCall_viiiiiii=function(){return a.asm.sb.apply(null,arguments)},In=a.dynCall_viji=function(){return a.asm.tb.apply(null,arguments)};function Fn(n){this.name="ExitStatus",this.message="Program terminated with exit("+n+")",this.status=n}function Nn(n){function t(){pn||(pn=!0,E||(!0,U(B),U(H),a.onRuntimeInitialized&&a.onRuntimeInitialized(),function(){if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)W(a.postRun.shift());U(z)}()))}n=n||f,G>0||(!function(){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)n=a.preRun.shift(),q.unshift(n);var n;U(q)}(),G>0||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),t()},1)):t()))}function Un(n){throw a.onAbort&&a.onAbort(n),v(n+=""),b(n),E=!0,1,"abort("+n+"). Build with -s ASSERTIONS=1 for more info."}if(a.asm=ln,a.then=function(n){if(pn)n(a);else{var t=a.onRuntimeInitialized;a.onRuntimeInitialized=function(){t&&t(),n(a)}}return a},J=function n(){pn||Nn(),pn||(J=n)},a.run=Nn,a.abort=Un,a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return a.noExitRuntime=!0,Nn(),a.ready=new Promise(function(n,t){delete a.then,a.onAbort=function(n){t(n)},W(function(){n(a)})}),o}}();n.exports=o}).call(this,e(2),"/")},function(n,t,e){n.exports=e(19)},function(n,t,e){var r=function(n){"use strict";var t,e=Object.prototype,r=e.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(n,t,e,r){var o=t&&t.prototype instanceof _?t:_,i=Object.create(o.prototype),a=new C(r||[]);return i._invoke=function(n,t,e){var r=f;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===o)throw i;return R()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var u=j(a,e);if(u){if(u===h)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(r===f)throw r=d,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r=p;var s=c(n,t,e);if("normal"===s.type){if(r=e.done?d:l,s.arg===h)continue;return{value:s.arg,done:e.done}}"throw"===s.type&&(r=d,e.method="throw",e.arg=s.arg)}}}(n,e,a),i}function c(n,t,e){try{return{type:"normal",arg:n.call(t,e)}}catch(r){return{type:"throw",arg:r}}}n.wrap=s;var f="suspendedStart",l="suspendedYield",p="executing",d="completed",h={};function _(){}function y(){}function m(){}var g={};g[i]=function(){return this};var v=Object.getPrototypeOf,b=v&&v(v(D([])));b&&b!==e&&r.call(b,i)&&(g=b);var w=m.prototype=_.prototype=Object.create(g);function A(n){["next","throw","return"].forEach(function(t){n[t]=function(n){return this._invoke(t,n)}})}function x(n){var t;this._invoke=function(e,o){function i(){return new Promise(function(t,i){!function t(e,o,i,a){var u=c(n[e],n,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"===typeof f&&r.call(f,"__await")?Promise.resolve(f.__await).then(function(n){t("next",n,i,a)},function(n){t("throw",n,i,a)}):Promise.resolve(f).then(function(n){s.value=n,i(s)},function(n){return t("throw",n,i,a)})}a(u.arg)}(e,o,t,i)})}return t=t?t.then(i,i):i()}}function j(n,e){var r=n.iterator[e.method];if(r===t){if(e.delegate=null,"throw"===e.method){if(n.iterator.return&&(e.method="return",e.arg=t,j(n,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=c(r,n.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[n.resultName]=i.value,e.next=n.nextLoc,"return"!==e.method&&(e.method="next",e.arg=t),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function S(n){var t={tryLoc:n[0]};1 in n&&(t.catchLoc=n[1]),2 in n&&(t.finallyLoc=n[2],t.afterLoc=n[3]),this.tryEntries.push(t)}function E(n){var t=n.completion||{};t.type="normal",delete t.arg,n.completion=t}function C(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(S,this),this.reset(!0)}function D(n){if(n){var e=n[i];if(e)return e.call(n);if("function"===typeof n.next)return n;if(!isNaN(n.length)){var o=-1,a=function e(){for(;++o<n.length;)if(r.call(n,o))return e.value=n[o],e.done=!1,e;return e.value=t,e.done=!0,e};return a.next=a}}return{next:R}}function R(){return{value:t,done:!0}}return y.prototype=w.constructor=m,m.constructor=y,m[u]=y.displayName="GeneratorFunction",n.isGeneratorFunction=function(n){var t="function"===typeof n&&n.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,m):(n.__proto__=m,u in n||(n[u]="GeneratorFunction")),n.prototype=Object.create(w),n},n.awrap=function(n){return{__await:n}},A(x.prototype),x.prototype[a]=function(){return this},n.AsyncIterator=x,n.async=function(t,e,r,o){var i=new x(s(t,e,r,o));return n.isGeneratorFunction(e)?i:i.next().then(function(n){return n.done?n.value:i.next()})},A(w),w[u]="Generator",w[i]=function(){return this},w.toString=function(){return"[object Generator]"},n.keys=function(n){var t=[];for(var e in n)t.push(e);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=D,C.prototype={constructor:C,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!n)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=t)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var e=this;function o(r,o){return u.type="throw",u.arg=n,e.next=r,o&&(e.method="next",e.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(n,t){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===n||"continue"===n)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=n,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),h},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.finallyLoc===n)return this.complete(e.completion,e.afterLoc),E(e),h}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.tryLoc===n){var r=e.completion;if("throw"===r.type){var o=r.arg;E(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(n,e,r){return this.delegate={iterator:D(n),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=t),h}},n}(n.exports);try{regeneratorRuntime=r}catch(o){Function("r","regeneratorRuntime = r")(r)}},function(n,t,e){"use strict";var r=e(0),o=e(5),i=e(21),a=e(11);function u(n){var t=new i(n),e=o(i.prototype.request,t);return r.extend(e,i.prototype,t),r.extend(e,t),e}var s=u(e(8));s.Axios=i,s.create=function(n){return u(a(s.defaults,n))},s.Cancel=e(12),s.CancelToken=e(33),s.isCancel=e(7),s.all=function(n){return Promise.all(n)},s.spread=e(34),n.exports=s,n.exports.default=s},function(n,t){n.exports=function(n){return null!=n&&null!=n.constructor&&"function"===typeof n.constructor.isBuffer&&n.constructor.isBuffer(n)}},function(n,t,e){"use strict";var r=e(0),o=e(6),i=e(22),a=e(23),u=e(11);function s(n){this.defaults=n,this.interceptors={request:new i,response:new i}}s.prototype.request=function(n){"string"===typeof n?(n=arguments[1]||{}).url=arguments[0]:n=n||{},(n=u(this.defaults,n)).method=n.method?n.method.toLowerCase():"get";var t=[a,void 0],e=Promise.resolve(n);for(this.interceptors.request.forEach(function(n){t.unshift(n.fulfilled,n.rejected)}),this.interceptors.response.forEach(function(n){t.push(n.fulfilled,n.rejected)});t.length;)e=e.then(t.shift(),t.shift());return e},s.prototype.getUri=function(n){return n=u(this.defaults,n),o(n.url,n.params,n.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],function(n){s.prototype[n]=function(t,e){return this.request(r.merge(e||{},{method:n,url:t}))}}),r.forEach(["post","put","patch"],function(n){s.prototype[n]=function(t,e,o){return this.request(r.merge(o||{},{method:n,url:t,data:e}))}}),n.exports=s},function(n,t,e){"use strict";var r=e(0);function o(){this.handlers=[]}o.prototype.use=function(n,t){return this.handlers.push({fulfilled:n,rejected:t}),this.handlers.length-1},o.prototype.eject=function(n){this.handlers[n]&&(this.handlers[n]=null)},o.prototype.forEach=function(n){r.forEach(this.handlers,function(t){null!==t&&n(t)})},n.exports=o},function(n,t,e){"use strict";var r=e(0),o=e(24),i=e(7),a=e(8),u=e(31),s=e(32);function c(n){n.cancelToken&&n.cancelToken.throwIfRequested()}n.exports=function(n){return c(n),n.baseURL&&!u(n.url)&&(n.url=s(n.baseURL,n.url)),n.headers=n.headers||{},n.data=o(n.data,n.headers,n.transformRequest),n.headers=r.merge(n.headers.common||{},n.headers[n.method]||{},n.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete n.headers[t]}),(n.adapter||a.adapter)(n).then(function(t){return c(n),t.data=o(t.data,t.headers,n.transformResponse),t},function(t){return i(t)||(c(n),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,n.transformResponse))),Promise.reject(t)})}},function(n,t,e){"use strict";var r=e(0);n.exports=function(n,t,e){return r.forEach(e,function(e){n=e(n,t)}),n}},function(n,t,e){"use strict";var r=e(0);n.exports=function(n,t){r.forEach(n,function(e,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(n[t]=e,delete n[r])})}},function(n,t,e){"use strict";var r=e(10);n.exports=function(n,t,e){var o=e.config.validateStatus;!o||o(e.status)?n(e):t(r("Request failed with status code "+e.status,e.config,null,e.request,e))}},function(n,t,e){"use strict";n.exports=function(n,t,e,r,o){return n.config=t,e&&(n.code=e),n.request=r,n.response=o,n.isAxiosError=!0,n.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},n}},function(n,t,e){"use strict";var r=e(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];n.exports=function(n){var t,e,i,a={};return n?(r.forEach(n.split("\n"),function(n){if(i=n.indexOf(":"),t=r.trim(n.substr(0,i)).toLowerCase(),e=r.trim(n.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([e]):a[t]?a[t]+", "+e:e}}),a):a}},function(n,t,e){"use strict";var r=e(0);n.exports=r.isStandardBrowserEnv()?function(){var n,t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");function o(n){var r=n;return t&&(e.setAttribute("href",r),r=e.href),e.setAttribute("href",r),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=o(window.location.href),function(t){var e=r.isString(t)?o(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return!0}},function(n,t,e){"use strict";var r=e(0);n.exports=r.isStandardBrowserEnv()?{write:function(n,t,e,o,i,a){var u=[];u.push(n+"="+encodeURIComponent(t)),r.isNumber(e)&&u.push("expires="+new Date(e).toGMTString()),r.isString(o)&&u.push("path="+o),r.isString(i)&&u.push("domain="+i),!0===a&&u.push("secure"),document.cookie=u.join("; ")},read:function(n){var t=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(n,t,e){"use strict";n.exports=function(n){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(n)}},function(n,t,e){"use strict";n.exports=function(n,t){return t?n.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):n}},function(n,t,e){"use strict";var r=e(12);function o(n){if("function"!==typeof n)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(n){t=n});var e=this;n(function(n){e.reason||(e.reason=new r(n),t(e.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var n;return{token:new o(function(t){n=t}),cancel:n}},n.exports=o},function(n,t,e){"use strict";n.exports=function(n){return function(t){return n.apply(null,t)}}},function(n,t,e){"use strict";function r(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=[],r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done)&&(e.push(a.value),!t||e.length!==t);r=!0);}catch(s){o=!0,i=s}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return e}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}e.r(t);var o=e(1),i=e.n(o);function a(n){return function(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(n,t,e,r,o,i,a){try{var u=n[i](a),s=u.value}catch(c){return void e(c)}u.done?t(s):Promise.resolve(s).then(r,o)}function s(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var i=n.apply(t,e);function a(n){u(i,r,o,a,s,"next",n)}function s(n){u(i,r,o,a,s,"throw",n)}a(void 0)})}}function c(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var f=e(13),l=e.n(f),p=e(14),d=e.n(p),h=e(15),_=e.n(h),y=e(16),m=e.n(y),g=e(17),v=e.n(g),b=1466809,w=1337416,A=self,x=null,j=null,S=null,E=null,C=null,D=null,R=!1,T=1<<20,k=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var e=new XMLHttpRequest;e.open("HEAD",t,!1),e.send(),(e.status<200||e.status>=300)&&A.postMessage({action:"error",error:"Failed to load remote file"}),this.byteLength=parseInt(e.getResponseHeader("Content-Length")),this.url=t,this.buffer=new Uint8Array(this.byteLength),this.chunks=new Uint8Array(this.byteLength+T-1>>20|0)}var t,e,r;return t=n,(e=[{key:"subarray",value:function(n,t){for(var e=n/T|0,r=(t+T-1)/T|0,o=r,i=e,a=e;a<r;++a)this.chunks[a]||(o=Math.min(o,a),i=Math.max(i,a));if(o<=i){var u=new XMLHttpRequest;if(u.open("GET",this.url,!1),u.setRequestHeader("Range","bytes=".concat(o*T,"-").concat(Math.min(i*T+T-1,this.byteLength-1))),u.responseType="arraybuffer",u.send(),u.status<200||u.status>=300)A.postMessage({action:"error",error:"Failed to load remote file"});else{var s,c=u.getResponseHeader("Content-Range"),f=0;c&&(s=c.match(/bytes (\d+)-(\d+)\/(\d+)/))&&(f=parseInt(s[1])),this.buffer.set(new Uint8Array(u.response),f),e=(f+T-1)/T|0,r=(f+u.response.byteLength+T-1)/T|0;for(var l=e;l<r;++l)this.chunks[l]=1}}return this.buffer.subarray(n,t)}}])&&c(t.prototype,e),r&&c(t,r),n}(),L={exit_error:function(n){A.postMessage({action:"error",error:n})},exit_game:function(){A.postMessage({action:"exit"})},current_save_id:function(n){A.postMessage({action:"current_save",name:n>=0?R?"spawn".concat(n,".sv"):"single_".concat(n,".sv"):null})},get_file_size:function(n){var t=E.get(n.toLowerCase());return t?t.byteLength:0},get_file_contents:function(n,t,e){var r=E.get(n.toLowerCase());r&&t.set(r.subarray(e,e+t.byteLength))},put_file_contents:function(n,t){n=n.toLowerCase(),E.set(n,t),A.postMessage({action:"fs",func:"update",params:[n,t]})},remove_file:function(n){n=n.toLowerCase(),E.delete(n),A.postMessage({action:"fs",func:"delete",params:[n]})},set_cursor:function(n,t){A.postMessage({action:"cursor",x:n,y:t})},open_keyboard:function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];A.postMessage({action:"keyboard",rect:[].concat(t)})},close_keyboard:function(){A.postMessage({action:"keyboard",rect:null})},websocket_closed:function(){return!1}};var O={draw_begin:function(){C={images:[],text:[],clip:null,belt:D},D=null},draw_blit:function(n,t,e,r,o){C.images.push({x:n,y:t,w:e,h:r,data:o.slice()})},draw_clip_text:function(n,t,e,r){C.clip={x0:n,y0:t,x1:e,y1:r}},draw_text:function(n,t,e,r){C.text.push({x:n,y:t,text:e,color:r})},draw_end:function(){var n=C.images.map(function(n){return n.data.buffer});C.belt&&n.push(C.belt.buffer),A.postMessage({action:"render",batch:C},n),C=null},draw_belt:function(n){D=n.slice()}},P={draw_begin:function(){j.save(),j.font="bold 13px Times New Roman"},draw_blit:function(n,t,e,r,o){S.data.set(o),j.putImageData(S,n,t)},draw_clip_text:function(n,t,e,r){j.beginPath(),j.rect(n,t,e-n,r-t),j.clip()},draw_text:function(n,t,e,r){var o=r>>16&255,i=r>>8&255,a=255&r;j.fillStyle="rgb(".concat(o,", ").concat(i,", ").concat(a,")"),j.fillText(e,n,t+22)},draw_end:function(){j.restore();var n=x.transferToImageBitmap(),t=[n];D&&t.push(D.buffer),A.postMessage({action:"render",batch:{bitmap:n,belt:D}},t),D=null},draw_belt:function(n){D=n.slice()}},M=null,I=null,F=0,N=0;["create_sound_raw","create_sound","duplicate_sound"].forEach(function(n){L[n]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(M)N=e[0]+1,M.push({func:n,params:e}),"duplicate_sound"!==n&&I.push(e[1].buffer);else{F=e[0]+1;var o=[];"duplicate_sound"!==n&&o.push(e[1].buffer),A.postMessage({action:"audio",func:n,params:e},o)}}}),["play_sound","set_volume","stop_sound","delete_sound"].forEach(function(n){L[n]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];M&&e[0]>=F?M.push({func:n,params:e}):A.postMessage({action:"audio",func:n,params:e})}});var U=null;L.websocket_send=function(n){U?U.push(n.slice().buffer):A.postMessage({action:"packet",buffer:n})},A.DApi=L;var q=null;function B(n){try{n()}catch(t){"string"===typeof t&&A.postMessage({action:""}),A.postMessage({action:"error",error:t.toString(),stack:t.stack})}}function H(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];B(function(){if(M=[],I=[],U=[],"text"!==n){var t;(t=q)["_"+n].apply(t,e)}else{for(var r=q._DApi_SyncTextPtr(),o=e[0],i=Math.min(o.length,255),a=q.HEAPU8,u=0;u<i;++u)a[r+u]=o.charCodeAt(u);a[r+i]=0,q._DApi_SyncText(e[1])}M.length&&(F=N,A.postMessage({action:"audioBatch",batch:M},I)),U.length&&A.postMessage({action:"packetBatch",batch:U},U),M=null,I=null,U=null})}function z(n,t,e){A.postMessage({action:"progress",text:n,loaded:t,total:e})}var W=function(n,t){return new Promise(function(e,r){var o=new FileReader;o.onload=function(){t&&t({loaded:n.size}),e(o.result)},o.onerror=function(){return r(o.error)},o.onabort=function(){return r()},t&&o.addEventListener("progress",t),o.readAsArrayBuffer(n)})};function G(n,t){return X.apply(this,arguments)}function X(){return(X=s(i.a.mark(function n(t,e){var r,o;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.a.request({url:t?_.a:l.a,responseType:"arraybuffer",onDownloadProgress:e});case 2:return r=n.sent,n.next=5,(t?m.a:d.a)({wasmBinary:r.data}).ready;case 5:return o=n.sent,e({loaded:2e6}),n.abrupt("return",o);case 8:case"end":return n.stop()}},n)}))).apply(this,arguments)}function J(){return(J=s(i.a.mark(function n(t,e,o){var a,u,s,c,f,l,p,d,h,_,y,m;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return p=function(){z("Loading...",u+c*l,s+f*l)},R=e,o?(x=new OffscreenCanvas(640,480),j=x.getContext("2d"),S=j.createImageData(640,480),Object.assign(L,P)):Object.assign(L,O),t||(a=e?"spawn.mpq":"diabdat.mpq",E.has(a)||E.set(a,new k("".concat("/diabloweb","/").concat(a)))),z("Loading..."),u=0,s=t?t.size:0,c=0,f=e?w:b,l=5,d=G(e,function(n){c=Math.min(n.loaded,f),p()}),h=t?W(t,function(n){u=n.loaded,p()}):Promise.resolve(null),n.next=11,Promise.all([d,h]);case 11:_=n.sent,y=r(_,2),q=y[0],(t=y[1])&&E.set(e?"spawn.mpq":"diabdat.mpq",new Uint8Array(t)),z("Initializing..."),m="1.0.294".match(/(\d+)\.(\d+)\.(\d+)/),q._SNet_InitWebsocket(),q._DApi_Init(Math.floor(performance.now()),o?1:0,parseInt(m[1]),parseInt(m[2]),parseInt(m[3])),setInterval(function(){H("DApi_Render",Math.floor(performance.now()))},50);case 21:case"end":return n.stop()}},n)}))).apply(this,arguments)}A.addEventListener("message",function(n){var t=n.data;switch(t.action){case"init":E=t.files,function(n,t,e){return J.apply(this,arguments)}(t.mpq,t.spawn,t.offscreen).then(function(){return A.postMessage({action:"loaded"})},function(n){return A.postMessage({action:"failed",error:n.toString(),stack:n.stack})});break;case"event":H.apply(void 0,[t.func].concat(a(t.params)));break;case"packet":B(function(){var n=q._DApi_AllocPacket(t.buffer.byteLength);q.HEAPU8.set(new Uint8Array(t.buffer),n)});break;case"packetBatch":B(function(){var n=!0,e=!1,r=void 0;try{for(var o,i=t.batch[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var a=o.value,u=q._DApi_AllocPacket(a.byteLength);q.HEAPU8.set(new Uint8Array(a),u)}}catch(s){e=!0,r=s}finally{try{n||null==i.return||i.return()}finally{if(e)throw r}}})}})}]);
//# sourceMappingURL=7bb35ecaa13fe52eab9c.worker.js.map