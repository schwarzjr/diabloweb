!function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(n){return e[n]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/diabloweb/",t(t.s=35)}([function(e,n,t){"use strict";var r=t(5),i=t(20),a=Object.prototype.toString;function o(e){return"[object Array]"===a.call(e)}function u(e){return null!==e&&"object"===typeof e}function s(e){return"[object Function]"===a.call(e)}function c(e,n){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var t=0,r=e.length;t<r;t++)n.call(null,e[t],t,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===a.call(e)},isBuffer:i,isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:u,isUndefined:function(e){return"undefined"===typeof e},isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:s,isStream:function(e){return u(e)&&s(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!==typeof window&&"undefined"!==typeof document},forEach:c,merge:function e(){var n={};function t(t,r){"object"===typeof n[r]&&"object"===typeof t?n[r]=e(n[r],t):n[r]=t}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],t);return n},deepMerge:function e(){var n={};function t(t,r){"object"===typeof n[r]&&"object"===typeof t?n[r]=e(n[r],t):n[r]="object"===typeof t?e({},t):t}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],t);return n},extend:function(e,n,t){return c(n,function(n,i){e[i]=t&&"function"===typeof n?r(n,t):n}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,n,t){e.exports=t(18)},function(e,n){var t,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:a}catch(e){t=a}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,c=[],l=!1,f=-1;function _(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&p())}function p(){if(!l){var e=u(_);l=!0;for(var n=c.length;n;){for(s=c,c=[];++f<n;)s&&s[f].run();f=-1,n=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(n){try{return r.call(null,e)}catch(n){return r.call(this,e)}}}(e)}}function d(e,n){this.fun=e,this.array=n}function m(){}i.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];c.push(new d(e,n)),1!==c.length||l||u(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,n){},function(e,n,t){(function(e){function t(e,n){for(var t=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),t++):t&&(e.splice(r,1),t--)}if(n)for(;t--;t)e.unshift("..");return e}function r(e,n){if(e.filter)return e.filter(n);for(var t=[],r=0;r<e.length;r++)n(e[r],r,e)&&t.push(e[r]);return t}n.resolve=function(){for(var n="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var o=a>=0?arguments[a]:e.cwd();if("string"!==typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(n=o+"/"+n,i="/"===o.charAt(0))}return(i?"/":"")+(n=t(r(n.split("/"),function(e){return!!e}),!i).join("/"))||"."},n.normalize=function(e){var a=n.isAbsolute(e),o="/"===i(e,-1);return(e=t(r(e.split("/"),function(e){return!!e}),!a).join("/"))||a||(e="."),e&&o&&(e+="/"),(a?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,function(e,n){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var n=0;n<e.length&&""===e[n];n++);for(var t=e.length-1;t>=0&&""===e[t];t--);return n>t?[]:e.slice(n,t-n+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var i=r(e.split("/")),a=r(t.split("/")),o=Math.min(i.length,a.length),u=o,s=0;s<o;s++)if(i[s]!==a[s]){u=s;break}var c=[];for(s=u;s<i.length;s++)c.push("..");return(c=c.concat(a.slice(u))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var n=e.charCodeAt(0),t=47===n,r=-1,i=!0,a=e.length-1;a>=1;--a)if(47===(n=e.charCodeAt(a))){if(!i){r=a;break}}else i=!1;return-1===r?t?"/":".":t&&1===r?"/":e.slice(0,r)},n.basename=function(e,n){var t=function(e){"string"!==typeof e&&(e+="");var n,t=0,r=-1,i=!0;for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!i){t=n+1;break}}else-1===r&&(i=!1,r=n+1);return-1===r?"":e.slice(t,r)}(e);return n&&t.substr(-1*n.length)===n&&(t=t.substr(0,t.length-n.length)),t},n.extname=function(e){"string"!==typeof e&&(e+="");for(var n=-1,t=0,r=-1,i=!0,a=0,o=e.length-1;o>=0;--o){var u=e.charCodeAt(o);if(47!==u)-1===r&&(i=!1,r=o+1),46===u?-1===n?n=o:1!==a&&(a=1):-1!==n&&(a=-1);else if(!i){t=o+1;break}}return-1===n||-1===r||0===a||1===a&&n===r-1&&n===t+1?"":e.slice(n,r)};var i="b"==="ab".substr(-1)?function(e,n,t){return e.substr(n,t)}:function(e,n,t){return n<0&&(n=e.length+n),e.substr(n,t)}}).call(this,t(2))},function(e,n,t){"use strict";e.exports=function(e,n){return function(){for(var t=new Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];return e.apply(n,t)}}},function(e,n,t){"use strict";var r=t(0);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,n,t){if(!n)return e;var a;if(t)a=t(n);else if(r.isURLSearchParams(n))a=n.toString();else{var o=[];r.forEach(n,function(e,n){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?n+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(n)+"="+i(e))}))}),a=o.join("&")}if(a){var u=e.indexOf("#");-1!==u&&(e=e.slice(0,u)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},function(e,n,t){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,n,t){"use strict";(function(n){var r=t(0),i=t(25),a={"Content-Type":"application/x-www-form-urlencoded"};function o(e,n){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=n)}var u={adapter:function(){var e;return"undefined"!==typeof n&&"[object process]"===Object.prototype.toString.call(n)?e=t(9):"undefined"!==typeof XMLHttpRequest&&(e=t(9)),e}(),transformRequest:[function(e,n){return i(n,"Accept"),i(n,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(o(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(o(n,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(n){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(e){u.headers[e]={}}),r.forEach(["post","put","patch"],function(e){u.headers[e]=r.merge(a)}),e.exports=u}).call(this,t(2))},function(e,n,t){"use strict";var r=t(0),i=t(26),a=t(6),o=t(28),u=t(29),s=t(10);e.exports=function(e){return new Promise(function(n,c){var l=e.data,f=e.headers;r.isFormData(l)&&delete f["Content-Type"];var _=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",d=e.auth.password||"";f.Authorization="Basic "+btoa(p+":"+d)}if(_.open(e.method.toUpperCase(),a(e.url,e.params,e.paramsSerializer),!0),_.timeout=e.timeout,_.onreadystatechange=function(){if(_&&4===_.readyState&&(0!==_.status||_.responseURL&&0===_.responseURL.indexOf("file:"))){var t="getAllResponseHeaders"in _?o(_.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?_.response:_.responseText,status:_.status,statusText:_.statusText,headers:t,config:e,request:_};i(n,c,r),_=null}},_.onabort=function(){_&&(c(s("Request aborted",e,"ECONNABORTED",_)),_=null)},_.onerror=function(){c(s("Network Error",e,null,_)),_=null},_.ontimeout=function(){c(s("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",_)),_=null},r.isStandardBrowserEnv()){var m=t(30),y=(e.withCredentials||u(e.url))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;y&&(f[e.xsrfHeaderName]=y)}if("setRequestHeader"in _&&r.forEach(f,function(e,n){"undefined"===typeof l&&"content-type"===n.toLowerCase()?delete f[n]:_.setRequestHeader(n,e)}),e.withCredentials&&(_.withCredentials=!0),e.responseType)try{_.responseType=e.responseType}catch(h){if("json"!==e.responseType)throw h}"function"===typeof e.onDownloadProgress&&_.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&_.upload&&_.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){_&&(_.abort(),c(e),_=null)}),void 0===l&&(l=null),_.send(l)})}},function(e,n,t){"use strict";var r=t(27);e.exports=function(e,n,t,i,a){var o=new Error(e);return r(o,n,t,i,a)}},function(e,n,t){"use strict";var r=t(0);e.exports=function(e,n){n=n||{};var t={};return r.forEach(["url","method","params","data"],function(e){"undefined"!==typeof n[e]&&(t[e]=n[e])}),r.forEach(["headers","auth","proxy"],function(i){r.isObject(n[i])?t[i]=r.deepMerge(e[i],n[i]):"undefined"!==typeof n[i]?t[i]=n[i]:r.isObject(e[i])?t[i]=r.deepMerge(e[i]):"undefined"!==typeof e[i]&&(t[i]=e[i])}),r.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],function(r){"undefined"!==typeof n[r]?t[r]=n[r]:"undefined"!==typeof e[r]&&(t[r]=e[r])}),t}},function(e,n,t){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,n,t){e.exports=t.p+"static/media/Diablo.3991174f.wasm"},function(e,n,t){(function(n,r){var i=function(){var e="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return function(i){var a,o="undefined"!==typeof(i=i||{})?i:{},u={};for(a in o)o.hasOwnProperty(a)&&(u[a]=o[a]);o.arguments=[],o.thisProgram="./this.program",o.quit=function(e,n){throw n},o.preRun=[],o.postRun=[];var s,c,l=!1,f=!1;l="object"===typeof window,f="function"===typeof importScripts,s="object"===typeof n&&!l&&!f,c=!l&&!s&&!f;var _,p,d="";function m(e){return o.locateFile?o.locateFile(e,d):d+e}s?(d=r+"/",o.read=function(e,n){var r;return _||(_=t(3)),p||(p=t(4)),e=p.normalize(e),r=_.readFileSync(e),n?r:r.toString()},o.readBinary=function(e){var n=o.read(e,!0);return n.buffer||(n=new Uint8Array(n)),A(n.buffer),n},n.argv.length>1&&(o.thisProgram=n.argv[1].replace(/\\/g,"/")),o.arguments=n.argv.slice(2),n.on("uncaughtException",function(e){if(!(e instanceof Re))throw e}),n.on("unhandledRejection",function(e,t){n.exit(1)}),o.quit=function(e){n.exit(e)},o.inspect=function(){return"[Emscripten Module object]"}):c?("undefined"!=typeof read&&(o.read=function(e){return read(e)}),o.readBinary=function(e){var n;return"function"===typeof readbuffer?new Uint8Array(readbuffer(e)):(A("object"===typeof(n=read(e,"binary"))),n)},"undefined"!=typeof scriptArgs?o.arguments=scriptArgs:"undefined"!=typeof arguments&&(o.arguments=arguments),"function"===typeof quit&&(o.quit=function(e){quit(e)})):(l||f)&&(l?document.currentScript&&(d=document.currentScript.src):d=self.location.href,e&&(d=e),d=0!==d.indexOf("blob:")?d.split("/").slice(0,-1).join("/")+"/":"",o.read=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(null),n.responseText},f&&(o.readBinary=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),o.readAsync=function(e,n,t){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?n(r.response):t()},r.onerror=t,r.send(null)},o.setWindowTitle=function(e){document.title=e});var y=o.print||("undefined"!==typeof console?console.log.bind(console):"undefined"!==typeof print?print:null),h=o.printErr||("undefined"!==typeof printErr?printErr:"undefined"!==typeof console&&console.warn.bind(console)||y);for(a in u)u.hasOwnProperty(a)&&(o[a]=u[a]);u=void 0;var v=16;function g(e){var n=N;return N=N+e+15&-16,n}function b(e,n){return n||(n=v),e=Math.ceil(e/n)*n}var E={"f64-rem":function(e,n){return e%n},debugger:function(){}};new Array(0);var w=0;function A(e,n){e||Ne("Assertion failed: "+n)}function T(e,n){if(0===n||!e)return"";for(var t,r=0,i=0;r|=t=j[e+i>>0],(0!=t||n)&&(i++,!n||i!=n););n||(n=i);var a="";if(r<128){for(var o;n>0;)o=String.fromCharCode.apply(String,j.subarray(e,e+Math.min(n,1024))),a=a?a+o:o,e+=1024,n-=1024;return a}return function(e){return S(j,e)}(e)}var C="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function S(e,n){for(var t=n;e[t];)++t;if(t-n>16&&e.subarray&&C)return C.decode(e.subarray(n,t));for(var r,i,a,o,u,s="";;){if(!(r=e[n++]))return s;if(128&r)if(i=63&e[n++],192!=(224&r))if(a=63&e[n++],224==(240&r)?r=(15&r)<<12|i<<6|a:(o=63&e[n++],240==(248&r)?r=(7&r)<<18|i<<12|a<<6|o:(u=63&e[n++],r=248==(252&r)?(3&r)<<24|i<<18|a<<12|o<<6|u:(1&r)<<30|i<<24|a<<18|o<<12|u<<6|63&e[n++])),r<65536)s+=String.fromCharCode(r);else{var c=r-65536;s+=String.fromCharCode(55296|c>>10,56320|1023&c)}else s+=String.fromCharCode((31&r)<<6|i);else s+=String.fromCharCode(r)}}"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");var O,x,j,R,D,N,M,L,k,I,P,B=65536,U=16777216,F=16777216;function W(e,n){return e%n>0&&(e+=n-e%n),e}function H(e){o.buffer=O=e}function G(){o.HEAP8=x=new Int8Array(O),o.HEAP16=new Int16Array(O),o.HEAP32=R=new Int32Array(O),o.HEAPU8=j=new Uint8Array(O),o.HEAPU16=new Uint16Array(O),o.HEAPU32=new Uint32Array(O),o.HEAPF32=D=new Float32Array(O),o.HEAPF64=new Float64Array(O)}function q(){var e=o.usingWasm?B:U,n=2147483648-e;if(R[P>>2]>n)return!1;var t=K;for(K=Math.max(K,F);K<R[P>>2];)K=K<=536870912?W(2*K,e):Math.min(W((3*K+2147483648)/4,e),n);var r=o.reallocBuffer(K);return r&&r.byteLength==K?(H(r),G(),!0):(K=t,!1)}N=L=P=0,o.reallocBuffer||(o.reallocBuffer=function(e){var n;try{if(ArrayBuffer.transfer)n=ArrayBuffer.transfer(O,e);else{var t=x;n=new ArrayBuffer(e),new Int8Array(n).set(t)}}catch(r){return!1}return!!Te(n)&&n});try{Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get)(new ArrayBuffer(4))}catch(Me){(function(e){return e.byteLength})}var z=o.TOTAL_STACK||5242880,K=o.TOTAL_MEMORY||134217728;function X(e){for(;e.length>0;){var n=e.shift();if("function"!=typeof n){var t=n.func;"number"===typeof t?void 0===n.arg?o.dynCall_v(t):o.dynCall_vi(t,n.arg):t(void 0===n.arg?null:n.arg)}else n()}}K<z&&h("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+K+"! (TOTAL_STACK="+z+")"),o.buffer?O=o.buffer:("object"===typeof WebAssembly&&"function"===typeof WebAssembly.Memory?(o.wasmMemory=new WebAssembly.Memory({initial:K/B}),O=o.wasmMemory.buffer):O=new ArrayBuffer(K),o.buffer=O),G();var Y=[],V=[],Q=[],J=[],Z=[],$=!1;function ee(e){Z.unshift(e)}Math.abs,Math.cos,Math.sin,Math.tan,Math.acos,Math.asin,Math.atan,Math.atan2,Math.exp,Math.log,Math.sqrt;var ne=Math.ceil,te=(Math.floor,Math.pow,Math.imul,Math.fround,Math.round,Math.min,Math.max,Math.clz32,Math.trunc,0),re=null,ie=null;o.preloadedImages={},o.preloadedAudios={};var ae="data:application/octet-stream;base64,";function oe(e){return String.prototype.startsWith?e.startsWith(ae):0===e.indexOf(ae)}!function(){var e="Diablo.wast",n="Diablo.wasm",t="Diablo.temp.asm.js";oe(e)||(e=m(e)),oe(n)||(n=m(n)),oe(t)||(t=m(t));var r={global:null,env:null,asm2wasm:E,parent:o},i=null;function a(){try{if(o.wasmBinary)return new Uint8Array(o.wasmBinary);if(o.readBinary)return o.readBinary(n);throw"both async and sync fetching of the wasm failed"}catch(h){Ne(h)}}function u(e,t,u){if("object"!==typeof WebAssembly)return h("no native wasm support detected"),!1;if(!(o.wasmMemory instanceof WebAssembly.Memory))return h("no native wasm Memory in use"),!1;function s(e,n){(i=e.exports).memory&&function(e){var n=o.buffer;e.byteLength<n.byteLength&&h("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here");var t=new Int8Array(n);new Int8Array(e).set(t),H(e),G()}(i.memory),o.asm=i,o.usingWasm=!0,function(e){if(te--,o.monitorRunDependencies&&o.monitorRunDependencies(te),0==te&&(null!==re&&(clearInterval(re),re=null),ie)){var n=ie;ie=null,n()}}()}if(t.memory=o.wasmMemory,r.global={NaN:NaN,Infinity:1/0},r["global.Math"]=Math,r.env=t,te++,o.monitorRunDependencies&&o.monitorRunDependencies(te),o.instantiateWasm)try{return o.instantiateWasm(r,s)}catch(Me){return h("Module.instantiateWasm callback failed with error: "+Me),!1}function c(e){s(e.instance,e.module)}function _(e){(o.wasmBinary||!l&&!f||"function"!==typeof fetch?new Promise(function(e,n){e(a())}):fetch(n,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+n+"'";return e.arrayBuffer()}).catch(function(){return a()})).then(function(e){return WebAssembly.instantiate(e,r)}).then(e).catch(function(e){h("failed to asynchronously prepare wasm: "+e),Ne(e)})}return o.wasmBinary||"function"!==typeof WebAssembly.instantiateStreaming||oe(n)||"function"!==typeof fetch?_(c):WebAssembly.instantiateStreaming(fetch(n,{credentials:"same-origin"}),r).then(c).catch(function(e){h("wasm streaming compile failed: "+e),h("falling back to ArrayBuffer instantiation"),_(c)}),{}}o.asmPreload=o.asm;var s=o.reallocBuffer;o.reallocBuffer=function(e){return"asmjs"===c?s(e):function(e){e=W(e,o.usingWasm?B:U);var n=o.buffer.byteLength;if(o.usingWasm)try{return-1!==o.wasmMemory.grow((e-n)/65536)?o.buffer=o.wasmMemory.buffer:null}catch(Me){return null}}(e)};var c="";o.asm=function(e,n,t){var r;if(!(n=n).table){var i=o.wasmTableSize;void 0===i&&(i=1024);var a=o.wasmMaxTableSize;"object"===typeof WebAssembly&&"function"===typeof WebAssembly.Table?n.table=void 0!==a?new WebAssembly.Table({initial:i,maximum:a,element:"anyfunc"}):new WebAssembly.Table({initial:i,element:"anyfunc"}):n.table=new Array(i),o.wasmTable=n.table}return n.memoryBase||(n.memoryBase=o.STATIC_BASE),n.tableBase||(n.tableBase=0),A(r=u(0,n),"no binaryen method succeeded."),r},o.asm}();var ue=[function(e){self.DApi.current_save_id(e)}];N=1867632,V.push({func:function(){we()}},{func:function(){Ae()}});o.STATIC_BASE=1024,o.STATIC_BUMP=1866608;var se=N;function ce(){return!!ce.uncaught_exception}N+=16;var le={last:0,caught:[],infos:{},deAdjust:function(e){if(!e||le.infos[e])return e;for(var n in le.infos){var t=+n;if(le.infos[t].adjusted===e)return t}return e},addRef:function(e){e&&le.infos[e].refcount++},decRef:function(e){if(e){var n=le.infos[e];A(n.refcount>0),n.refcount--,0!==n.refcount||n.rethrown||(n.destructor&&o.dynCall_vi(n.destructor,e),delete le.infos[e],fe(e))}},clearRef:function(e){e&&(le.infos[e].refcount=0)}};function fe(e){try{return Ce(e)}catch(Me){}}function _e(){var e=le.last;if(!e)return 0|(Oe(0),0);var n=le.infos[e],t=n.type;if(!t)return 0|(Oe(0),e);var r=Array.prototype.slice.call(arguments);o.___cxa_is_pointer_type(t);_e.buffer||(_e.buffer=Se(4)),R[_e.buffer>>2]=e,e=_e.buffer;for(var i=0;i<r.length;i++)if(r[i]&&o.___cxa_can_catch(r[i],t,e))return e=R[e>>2],n.adjusted=e,0|(Oe(r[i]),e);return e=R[e>>2],0|(Oe(t),e)}var pe={varargs:0,get:function(e){return pe.varargs+=4,R[pe.varargs-4>>2]},getStr:function(){return T(pe.get())},get64:function(){var e=pe.get(),n=pe.get();return A(e>=0?0===n:-1===n),e},getZero:function(){A(0===pe.get())}};function de(e,n){pe.varargs=n;try{var t=pe.get(),r=pe.get(),i=pe.get(),a=0;de.buffers||(de.buffers=[null,[],[]],de.printChar=function(e,n){var t=de.buffers[e];A(t),0===n||10===n?((1===e?y:h)(S(t,0)),t.length=0):t.push(n)});for(var o=0;o<i;o++){for(var u=R[r+8*o>>2],s=R[r+(8*o+4)>>2],c=0;c<s;c++)de.printChar(t,j[u+c]);a+=s}return a}catch(Me){return"undefined"!==typeof FS&&Me instanceof FS.ErrnoError||Ne(Me),-Me.errno}}function me(e){!function(e,n){if(n&&o.noExitRuntime&&0===e)return;o.noExitRuntime||(w=!0,e,L=Ee,X(J),!0,o.onExit&&o.onExit(e));o.quit(e,new Re(e))}(e)}var ye=ne;var he={};var ve=1,ge={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};P=g(4),M=L=b(N),I=b(k=M+z),R[P>>2]=I;o.wasmTableSize=1114,o.wasmMaxTableSize=1114,o.asmGlobalArg={},o.asmLibraryArg={abort:Ne,assert:A,enlargeMemory:q,getTotalMemory:function(){return K},abortOnCannotGrowMemory:function(){Ne("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+K+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")},invoke_i:function(e){var n=je();try{return o.dynCall_i(e)}catch(Me){if(xe(n),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_ii:function(e,n){var t=je();try{return o.dynCall_ii(e,n)}catch(Me){if(xe(t),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_iii:function(e,n,t){var r=je();try{return o.dynCall_iii(e,n,t)}catch(Me){if(xe(r),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_iiii:function(e,n,t,r){var i=je();try{return o.dynCall_iiii(e,n,t,r)}catch(Me){if(xe(i),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_iiiii:function(e,n,t,r,i){var a=je();try{return o.dynCall_iiiii(e,n,t,r,i)}catch(Me){if(xe(a),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_iiiiii:function(e,n,t,r,i,a){var u=je();try{return o.dynCall_iiiiii(e,n,t,r,i,a)}catch(Me){if(xe(u),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_ji:function(e,n){var t=je();try{return o.dynCall_ji(e,n)}catch(Me){if(xe(t),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_v:function(e){var n=je();try{o.dynCall_v(e)}catch(Me){if(xe(n),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_vi:function(e,n){var t=je();try{o.dynCall_vi(e,n)}catch(Me){if(xe(t),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_vii:function(e,n,t){var r=je();try{o.dynCall_vii(e,n,t)}catch(Me){if(xe(r),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_viii:function(e,n,t,r){var i=je();try{o.dynCall_viii(e,n,t,r)}catch(Me){if(xe(i),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_viiii:function(e,n,t,r,i){var a=je();try{o.dynCall_viiii(e,n,t,r,i)}catch(Me){if(xe(a),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_viiiii:function(e,n,t,r,i,a){var u=je();try{o.dynCall_viiiii(e,n,t,r,i,a)}catch(Me){if(xe(u),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_viiiiii:function(e,n,t,r,i,a,u){var s=je();try{o.dynCall_viiiiii(e,n,t,r,i,a,u)}catch(Me){if(xe(s),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_viiiiiii:function(e,n,t,r,i,a,u,s){var c=je();try{o.dynCall_viiiiiii(e,n,t,r,i,a,u,s)}catch(Me){if(xe(c),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_viiiiiiiii:function(e,n,t,r,i,a,u,s,c,l){var f=je();try{o.dynCall_viiiiiiiii(e,n,t,r,i,a,u,s,c,l)}catch(Me){if(xe(f),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_viiiiiiiiii:function(e,n,t,r,i,a,u,s,c,l,f){var _=je();try{o.dynCall_viiiiiiiiii(e,n,t,r,i,a,u,s,c,l,f)}catch(Me){if(xe(_),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_viij:function(e,n,t,r,i){var a=je();try{o.dynCall_viij(e,n,t,r,i)}catch(Me){if(xe(a),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_viji:function(e,n,t,r,i){var a=je();try{o.dynCall_viji(e,n,t,r,i)}catch(Me){if(xe(a),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},__ZSt18uncaught_exceptionv:ce,___assert_fail:function(e,n,t,r){Ne("Assertion failed: "+T(e)+", at: "+[n?T(n):"unknown filename",t,r?T(r):"unknown function"])},___cxa_allocate_exception:function(e){return Se(e)},___cxa_begin_catch:function(e){var n=le.infos[e];return n&&!n.caught&&(n.caught=!0,ce.uncaught_exception--),n&&(n.rethrown=!1),le.caught.push(e),le.addRef(le.deAdjust(e)),e},___cxa_end_catch:function(){o.setThrew(0);var e=le.caught.pop();e&&(le.decRef(le.deAdjust(e)),le.last=0)},___cxa_find_matching_catch:_e,___cxa_find_matching_catch_2:function(){return _e.apply(null,arguments)},___cxa_find_matching_catch_3:function(){return _e.apply(null,arguments)},___cxa_free_exception:fe,___cxa_get_exception_ptr:function(e){return e},___cxa_pure_virtual:function(){throw w=!0,"Pure virtual function called!"},___cxa_throw:function(e,n,t){throw le.infos[e]={ptr:e,adjusted:e,type:n,destructor:t,refcount:0,caught:!1,rethrown:!1},le.last=e,"uncaught_exception"in ce?ce.uncaught_exception++:ce.uncaught_exception=1,e},___gxx_personality_v0:function(){},___lock:function(){},___resumeException:function(e){throw le.last||(le.last=e),e},___setErrNo:function(e){return o.___errno_location&&(R[o.___errno_location()>>2]=e),e},___syscall140:function(e,n){pe.varargs=n;try{var t=pe.getStreamFromFD(),r=(pe.get(),pe.get()),i=pe.get(),a=pe.get(),o=r;return FS.llseek(t,o,a),R[i>>2]=t.position,t.getdents&&0===o&&0===a&&(t.getdents=null),0}catch(Me){return"undefined"!==typeof FS&&Me instanceof FS.ErrnoError||Ne(Me),-Me.errno}},___syscall146:de,___syscall54:function(e,n){pe.varargs=n;try{return 0}catch(Me){return"undefined"!==typeof FS&&Me instanceof FS.ErrnoError||Ne(Me),-Me.errno}},___syscall6:function(e,n){pe.varargs=n;try{var t=pe.getStreamFromFD();return FS.close(t),0}catch(Me){return"undefined"!==typeof FS&&Me instanceof FS.ErrnoError||Ne(Me),-Me.errno}},___unlock:function(){},__api_close_keyboard:function(){self.DApi.close_keyboard()},__api_open_keyboard:function(e,n,t,r,i){self.DApi.open_keyboard(e,n,t,r,i)},__exit:me,_abort:function(){o.abort()},_api_create_sound:function(e,n,t){self.DApi.create_sound(e,j.slice(n,n+t))},_api_create_sound_float:function(e,n,t,r,i){self.DApi.create_sound_raw(e,D.slice(n/4,n/4+t*r),t,r,i)},_api_delete_sound:function(e){self.DApi.delete_sound(e)},_api_draw_begin:function(){self.DApi.draw_begin()},_api_draw_belt:function(e){self.DApi.draw_belt(R.subarray(e/4,e/4+8))},_api_draw_blit:function(e,n,t,r,i){self.DApi.draw_blit(e,n,t,r,j.subarray(i,i+t*r*4))},_api_draw_clip_text:function(e,n,t,r){self.DApi.draw_clip_text(e,n,t,r)},_api_draw_end:function(){self.DApi.draw_end()},_api_draw_text:function(e,n,t,r){var i=j.indexOf(0,t),a=String.fromCharCode.apply(null,j.subarray(t,i));self.DApi.draw_text(e,n,a,r)},_api_duplicate_sound:function(e,n){self.DApi.duplicate_sound(e,n)},_api_exit_game:function(){self.DApi.exit_game()},_api_play_sound:function(e,n,t,r){self.DApi.play_sound(e,n,t,r)},_api_set_cursor:function(e,n){self.DApi.set_cursor(e,n)},_api_set_volume:function(e,n){self.DApi.set_volume(e,n)},_api_stop_sound:function(e){self.DApi.stop_sound(e)},_api_websocket_closed:function(){return self.DApi.websocket_closed()},_api_websocket_send:function(e,n){self.DApi.websocket_send(j.subarray(e,e+n))},_emscripten_asm_const_ii:function(e,n){return ue[e](n)},_emscripten_memcpy_big:function(e,n,t){return j.set(j.subarray(n,n+t),e),e},_exit:function(e){me(e)},_exit_error:function(e){var n=j.indexOf(0,e),t=String.fromCharCode.apply(null,j.subarray(e,n));self.DApi.exit_error(t)},_get_file_contents:function(e,n,t,r){var i=j.indexOf(0,e),a=String.fromCharCode.apply(null,j.subarray(e,i));self.DApi.get_file_contents(a,j.subarray(n,n+r),t)},_get_file_size:function(e){var n=j.indexOf(0,e),t=String.fromCharCode.apply(null,j.subarray(e,n));return self.DApi.get_file_size(t)},_llvm_ceil_f32:ye,_llvm_eh_typeid_for:function(e){return e},_llvm_trap:function(){Ne("trap!")},_pthread_getspecific:function(e){return he[e]||0},_pthread_key_create:function(e,n){return 0==e?ge.EINVAL:(R[e>>2]=ve,he[ve]=0,ve++,0)},_pthread_once:function e(n,t){e.seen||(e.seen={}),n in e.seen||(o.dynCall_v(t),e.seen[n]=1)},_pthread_setspecific:function(e,n){return e in he?(he[e]=n,0):ge.EINVAL},_put_file_contents:function(e,n,t){var r=j.indexOf(0,e),i=String.fromCharCode.apply(null,j.subarray(e,r));self.DApi.put_file_contents(i,j.slice(n,n+t))},_remove_file:function(e){var n=j.indexOf(0,e),t=String.fromCharCode.apply(null,j.subarray(e,n));self.DApi.remove_file(t)},_show_alert:function(e){var n=j.indexOf(0,e),t=String.fromCharCode.apply(null,j.subarray(e,n));self.alert(t)},_time:function(e){var n=Date.now()/1e3|0;return e&&(R[e>>2]=n),n},_trace_pop:function(){self.WASM_TRACE&&self.WASM_TRACE.pop()},_trace_push:function(e){var n=j.indexOf(0,e),t=String.fromCharCode.apply(null,j.subarray(e,n));console.log(t),self.WASM_TRACE=self.WASM_TRACE||[],self.WASM_TRACE.push(t)},flush_NO_FILESYSTEM:function(){var e=o._fflush;e&&e(0);var n=de.printChar;if(n){var t=de.buffers;t[1].length&&n(1,10),t[2].length&&n(2,10)}},DYNAMICTOP_PTR:P,tempDoublePtr:se,ABORT:w,STACKTOP:L,STACK_MAX:k};var be=o.asm(o.asmGlobalArg,o.asmLibraryArg,O);o.asm=be;o._DApi_AllocPacket=function(){return o.asm._DApi_AllocPacket.apply(null,arguments)},o._DApi_Char=function(){return o.asm._DApi_Char.apply(null,arguments)},o._DApi_Init=function(){return o.asm._DApi_Init.apply(null,arguments)},o._DApi_Key=function(){return o.asm._DApi_Key.apply(null,arguments)},o._DApi_Mouse=function(){return o.asm._DApi_Mouse.apply(null,arguments)},o._DApi_Render=function(){return o.asm._DApi_Render.apply(null,arguments)},o._DApi_SyncText=function(){return o.asm._DApi_SyncText.apply(null,arguments)},o._DApi_SyncTextPtr=function(){return o.asm._DApi_SyncTextPtr.apply(null,arguments)},o._SNet_InitWebsocket=function(){return o.asm._SNet_InitWebsocket.apply(null,arguments)};var Ee,we=o.__GLOBAL__sub_I_msgcmd_cpp=function(){return o.asm.__GLOBAL__sub_I_msgcmd_cpp.apply(null,arguments)},Ae=o.__GLOBAL__sub_I_snet_cpp=function(){return o.asm.__GLOBAL__sub_I_snet_cpp.apply(null,arguments)},Te=(o.___cxa_can_catch=function(){return o.asm.___cxa_can_catch.apply(null,arguments)},o.___cxa_is_pointer_type=function(){return o.asm.___cxa_is_pointer_type.apply(null,arguments)},o.___em_js___api_close_keyboard=function(){return o.asm.___em_js___api_close_keyboard.apply(null,arguments)},o.___em_js___api_open_keyboard=function(){return o.asm.___em_js___api_open_keyboard.apply(null,arguments)},o.___em_js__api_create_sound=function(){return o.asm.___em_js__api_create_sound.apply(null,arguments)},o.___em_js__api_create_sound_float=function(){return o.asm.___em_js__api_create_sound_float.apply(null,arguments)},o.___em_js__api_delete_sound=function(){return o.asm.___em_js__api_delete_sound.apply(null,arguments)},o.___em_js__api_draw_begin=function(){return o.asm.___em_js__api_draw_begin.apply(null,arguments)},o.___em_js__api_draw_belt=function(){return o.asm.___em_js__api_draw_belt.apply(null,arguments)},o.___em_js__api_draw_blit=function(){return o.asm.___em_js__api_draw_blit.apply(null,arguments)},o.___em_js__api_draw_clip_text=function(){return o.asm.___em_js__api_draw_clip_text.apply(null,arguments)},o.___em_js__api_draw_end=function(){return o.asm.___em_js__api_draw_end.apply(null,arguments)},o.___em_js__api_draw_text=function(){return o.asm.___em_js__api_draw_text.apply(null,arguments)},o.___em_js__api_duplicate_sound=function(){return o.asm.___em_js__api_duplicate_sound.apply(null,arguments)},o.___em_js__api_exit_game=function(){return o.asm.___em_js__api_exit_game.apply(null,arguments)},o.___em_js__api_play_sound=function(){return o.asm.___em_js__api_play_sound.apply(null,arguments)},o.___em_js__api_set_cursor=function(){return o.asm.___em_js__api_set_cursor.apply(null,arguments)},o.___em_js__api_set_volume=function(){return o.asm.___em_js__api_set_volume.apply(null,arguments)},o.___em_js__api_stop_sound=function(){return o.asm.___em_js__api_stop_sound.apply(null,arguments)},o.___em_js__api_websocket_closed=function(){return o.asm.___em_js__api_websocket_closed.apply(null,arguments)},o.___em_js__api_websocket_send=function(){return o.asm.___em_js__api_websocket_send.apply(null,arguments)},o.___em_js__exit_error=function(){return o.asm.___em_js__exit_error.apply(null,arguments)},o.___em_js__get_file_contents=function(){return o.asm.___em_js__get_file_contents.apply(null,arguments)},o.___em_js__get_file_size=function(){return o.asm.___em_js__get_file_size.apply(null,arguments)},o.___em_js__put_file_contents=function(){return o.asm.___em_js__put_file_contents.apply(null,arguments)},o.___em_js__remove_file=function(){return o.asm.___em_js__remove_file.apply(null,arguments)},o.___em_js__show_alert=function(){return o.asm.___em_js__show_alert.apply(null,arguments)},o.___em_js__trace_pop=function(){return o.asm.___em_js__trace_pop.apply(null,arguments)},o.___em_js__trace_push=function(){return o.asm.___em_js__trace_push.apply(null,arguments)},o._emscripten_replace_memory=function(){return o.asm._emscripten_replace_memory.apply(null,arguments)}),Ce=o._free=function(){return o.asm._free.apply(null,arguments)},Se=(o._llvm_bswap_i32=function(){return o.asm._llvm_bswap_i32.apply(null,arguments)},o._malloc=function(){return o.asm._malloc.apply(null,arguments)}),Oe=(o._memcpy=function(){return o.asm._memcpy.apply(null,arguments)},o._memmove=function(){return o.asm._memmove.apply(null,arguments)},o._memset=function(){return o.asm._memset.apply(null,arguments)},o._sbrk=function(){return o.asm._sbrk.apply(null,arguments)},o.establishStackSpace=function(){return o.asm.establishStackSpace.apply(null,arguments)},o.getTempRet0=function(){return o.asm.getTempRet0.apply(null,arguments)},o.runPostSets=function(){return o.asm.runPostSets.apply(null,arguments)},o.setTempRet0=function(){return o.asm.setTempRet0.apply(null,arguments)}),xe=(o.setThrew=function(){return o.asm.setThrew.apply(null,arguments)},o.stackAlloc=function(){return o.asm.stackAlloc.apply(null,arguments)},o.stackRestore=function(){return o.asm.stackRestore.apply(null,arguments)}),je=o.stackSave=function(){return o.asm.stackSave.apply(null,arguments)};o.dynCall_i=function(){return o.asm.dynCall_i.apply(null,arguments)},o.dynCall_ii=function(){return o.asm.dynCall_ii.apply(null,arguments)},o.dynCall_iii=function(){return o.asm.dynCall_iii.apply(null,arguments)},o.dynCall_iiii=function(){return o.asm.dynCall_iiii.apply(null,arguments)},o.dynCall_iiiii=function(){return o.asm.dynCall_iiiii.apply(null,arguments)},o.dynCall_iiiiii=function(){return o.asm.dynCall_iiiiii.apply(null,arguments)},o.dynCall_ji=function(){return o.asm.dynCall_ji.apply(null,arguments)},o.dynCall_v=function(){return o.asm.dynCall_v.apply(null,arguments)},o.dynCall_vi=function(){return o.asm.dynCall_vi.apply(null,arguments)},o.dynCall_vii=function(){return o.asm.dynCall_vii.apply(null,arguments)},o.dynCall_viii=function(){return o.asm.dynCall_viii.apply(null,arguments)},o.dynCall_viiii=function(){return o.asm.dynCall_viiii.apply(null,arguments)},o.dynCall_viiiii=function(){return o.asm.dynCall_viiiii.apply(null,arguments)},o.dynCall_viiiiii=function(){return o.asm.dynCall_viiiiii.apply(null,arguments)},o.dynCall_viiiiiii=function(){return o.asm.dynCall_viiiiiii.apply(null,arguments)},o.dynCall_viiiiiiiii=function(){return o.asm.dynCall_viiiiiiiii.apply(null,arguments)},o.dynCall_viiiiiiiiii=function(){return o.asm.dynCall_viiiiiiiiii.apply(null,arguments)},o.dynCall_viij=function(){return o.asm.dynCall_viij.apply(null,arguments)},o.dynCall_viji=function(){return o.asm.dynCall_viji.apply(null,arguments)};function Re(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}o.asm=be,o.then=function(e){if(o.calledRun)e(o);else{var n=o.onRuntimeInitialized;o.onRuntimeInitialized=function(){n&&n(),e(o)}}return o},Re.prototype=new Error,Re.prototype.constructor=Re;function De(e){function n(){o.calledRun||(o.calledRun=!0,w||($||($=!0,X(V)),X(Q),o.onRuntimeInitialized&&o.onRuntimeInitialized(),function(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)ee(o.postRun.shift());X(Z)}()))}e=e||o.arguments,te>0||(!function(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)e=o.preRun.shift(),Y.unshift(e);var e;X(Y)}(),te>0||o.calledRun||(o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),n()},1)):n()))}ie=function e(){o.calledRun||De(),o.calledRun||(ie=e)},o.run=De;function Ne(e){throw o.onAbort&&o.onAbort(e),void 0!==e?(y(e),h(e),e=JSON.stringify(e)):e="",w=!0,1,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}if(o.abort=Ne,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return o.noExitRuntime=!0,De(),o.ready=new Promise(function(e,n){delete o.then,o.onAbort=function(e){n(e)},ee(function(){e(o)})}),i}}();e.exports=i}).call(this,t(2),"/")},function(e,n,t){e.exports=t.p+"static/media/DiabloSpawn.32acbb39.wasm"},function(e,n,t){(function(n,r){var i=function(){var e="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return function(i){var a,o="undefined"!==typeof(i=i||{})?i:{},u={};for(a in o)o.hasOwnProperty(a)&&(u[a]=o[a]);o.arguments=[],o.thisProgram="./this.program",o.quit=function(e,n){throw n},o.preRun=[],o.postRun=[];var s,c,l=!1,f=!1;l="object"===typeof window,f="function"===typeof importScripts,s="object"===typeof n&&!l&&!f,c=!l&&!s&&!f;var _,p,d="";function m(e){return o.locateFile?o.locateFile(e,d):d+e}s?(d=r+"/",o.read=function(e,n){var r;return _||(_=t(3)),p||(p=t(4)),e=p.normalize(e),r=_.readFileSync(e),n?r:r.toString()},o.readBinary=function(e){var n=o.read(e,!0);return n.buffer||(n=new Uint8Array(n)),A(n.buffer),n},n.argv.length>1&&(o.thisProgram=n.argv[1].replace(/\\/g,"/")),o.arguments=n.argv.slice(2),n.on("uncaughtException",function(e){if(!(e instanceof Re))throw e}),n.on("unhandledRejection",function(e,t){n.exit(1)}),o.quit=function(e){n.exit(e)},o.inspect=function(){return"[Emscripten Module object]"}):c?("undefined"!=typeof read&&(o.read=function(e){return read(e)}),o.readBinary=function(e){var n;return"function"===typeof readbuffer?new Uint8Array(readbuffer(e)):(A("object"===typeof(n=read(e,"binary"))),n)},"undefined"!=typeof scriptArgs?o.arguments=scriptArgs:"undefined"!=typeof arguments&&(o.arguments=arguments),"function"===typeof quit&&(o.quit=function(e){quit(e)})):(l||f)&&(l?document.currentScript&&(d=document.currentScript.src):d=self.location.href,e&&(d=e),d=0!==d.indexOf("blob:")?d.split("/").slice(0,-1).join("/")+"/":"",o.read=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(null),n.responseText},f&&(o.readBinary=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),o.readAsync=function(e,n,t){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?n(r.response):t()},r.onerror=t,r.send(null)},o.setWindowTitle=function(e){document.title=e});var y=o.print||("undefined"!==typeof console?console.log.bind(console):"undefined"!==typeof print?print:null),h=o.printErr||("undefined"!==typeof printErr?printErr:"undefined"!==typeof console&&console.warn.bind(console)||y);for(a in u)u.hasOwnProperty(a)&&(o[a]=u[a]);u=void 0;var v=16;function g(e){var n=N;return N=N+e+15&-16,n}function b(e,n){return n||(n=v),e=Math.ceil(e/n)*n}var E={"f64-rem":function(e,n){return e%n},debugger:function(){}};new Array(0);var w=0;function A(e,n){e||Ne("Assertion failed: "+n)}function T(e,n){if(0===n||!e)return"";for(var t,r=0,i=0;r|=t=j[e+i>>0],(0!=t||n)&&(i++,!n||i!=n););n||(n=i);var a="";if(r<128){for(var o;n>0;)o=String.fromCharCode.apply(String,j.subarray(e,e+Math.min(n,1024))),a=a?a+o:o,e+=1024,n-=1024;return a}return function(e){return S(j,e)}(e)}var C="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function S(e,n){for(var t=n;e[t];)++t;if(t-n>16&&e.subarray&&C)return C.decode(e.subarray(n,t));for(var r,i,a,o,u,s="";;){if(!(r=e[n++]))return s;if(128&r)if(i=63&e[n++],192!=(224&r))if(a=63&e[n++],224==(240&r)?r=(15&r)<<12|i<<6|a:(o=63&e[n++],240==(248&r)?r=(7&r)<<18|i<<12|a<<6|o:(u=63&e[n++],r=248==(252&r)?(3&r)<<24|i<<18|a<<12|o<<6|u:(1&r)<<30|i<<24|a<<18|o<<12|u<<6|63&e[n++])),r<65536)s+=String.fromCharCode(r);else{var c=r-65536;s+=String.fromCharCode(55296|c>>10,56320|1023&c)}else s+=String.fromCharCode((31&r)<<6|i);else s+=String.fromCharCode(r)}}"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");var O,x,j,R,D,N,M,L,k,I,P,B=65536,U=16777216,F=16777216;function W(e,n){return e%n>0&&(e+=n-e%n),e}function H(e){o.buffer=O=e}function G(){o.HEAP8=x=new Int8Array(O),o.HEAP16=new Int16Array(O),o.HEAP32=R=new Int32Array(O),o.HEAPU8=j=new Uint8Array(O),o.HEAPU16=new Uint16Array(O),o.HEAPU32=new Uint32Array(O),o.HEAPF32=D=new Float32Array(O),o.HEAPF64=new Float64Array(O)}function q(){var e=o.usingWasm?B:U,n=2147483648-e;if(R[P>>2]>n)return!1;var t=K;for(K=Math.max(K,F);K<R[P>>2];)K=K<=536870912?W(2*K,e):Math.min(W((3*K+2147483648)/4,e),n);var r=o.reallocBuffer(K);return r&&r.byteLength==K?(H(r),G(),!0):(K=t,!1)}N=L=P=0,o.reallocBuffer||(o.reallocBuffer=function(e){var n;try{if(ArrayBuffer.transfer)n=ArrayBuffer.transfer(O,e);else{var t=x;n=new ArrayBuffer(e),new Int8Array(n).set(t)}}catch(r){return!1}return!!Te(n)&&n});try{Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get)(new ArrayBuffer(4))}catch(Me){(function(e){return e.byteLength})}var z=o.TOTAL_STACK||5242880,K=o.TOTAL_MEMORY||134217728;function X(e){for(;e.length>0;){var n=e.shift();if("function"!=typeof n){var t=n.func;"number"===typeof t?void 0===n.arg?o.dynCall_v(t):o.dynCall_vi(t,n.arg):t(void 0===n.arg?null:n.arg)}else n()}}K<z&&h("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+K+"! (TOTAL_STACK="+z+")"),o.buffer?O=o.buffer:("object"===typeof WebAssembly&&"function"===typeof WebAssembly.Memory?(o.wasmMemory=new WebAssembly.Memory({initial:K/B}),O=o.wasmMemory.buffer):O=new ArrayBuffer(K),o.buffer=O),G();var Y=[],V=[],Q=[],J=[],Z=[],$=!1;function ee(e){Z.unshift(e)}Math.abs,Math.cos,Math.sin,Math.tan,Math.acos,Math.asin,Math.atan,Math.atan2,Math.exp,Math.log,Math.sqrt;var ne=Math.ceil,te=(Math.floor,Math.pow,Math.imul,Math.fround,Math.round,Math.min,Math.max,Math.clz32,Math.trunc,0),re=null,ie=null;o.preloadedImages={},o.preloadedAudios={};var ae="data:application/octet-stream;base64,";function oe(e){return String.prototype.startsWith?e.startsWith(ae):0===e.indexOf(ae)}!function(){var e="DiabloSpawn.wast",n="DiabloSpawn.wasm",t="DiabloSpawn.temp.asm.js";oe(e)||(e=m(e)),oe(n)||(n=m(n)),oe(t)||(t=m(t));var r={global:null,env:null,asm2wasm:E,parent:o},i=null;function a(){try{if(o.wasmBinary)return new Uint8Array(o.wasmBinary);if(o.readBinary)return o.readBinary(n);throw"both async and sync fetching of the wasm failed"}catch(h){Ne(h)}}function u(e,t,u){if("object"!==typeof WebAssembly)return h("no native wasm support detected"),!1;if(!(o.wasmMemory instanceof WebAssembly.Memory))return h("no native wasm Memory in use"),!1;function s(e,n){(i=e.exports).memory&&function(e){var n=o.buffer;e.byteLength<n.byteLength&&h("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here");var t=new Int8Array(n);new Int8Array(e).set(t),H(e),G()}(i.memory),o.asm=i,o.usingWasm=!0,function(e){if(te--,o.monitorRunDependencies&&o.monitorRunDependencies(te),0==te&&(null!==re&&(clearInterval(re),re=null),ie)){var n=ie;ie=null,n()}}()}if(t.memory=o.wasmMemory,r.global={NaN:NaN,Infinity:1/0},r["global.Math"]=Math,r.env=t,te++,o.monitorRunDependencies&&o.monitorRunDependencies(te),o.instantiateWasm)try{return o.instantiateWasm(r,s)}catch(Me){return h("Module.instantiateWasm callback failed with error: "+Me),!1}function c(e){s(e.instance,e.module)}function _(e){(o.wasmBinary||!l&&!f||"function"!==typeof fetch?new Promise(function(e,n){e(a())}):fetch(n,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+n+"'";return e.arrayBuffer()}).catch(function(){return a()})).then(function(e){return WebAssembly.instantiate(e,r)}).then(e).catch(function(e){h("failed to asynchronously prepare wasm: "+e),Ne(e)})}return o.wasmBinary||"function"!==typeof WebAssembly.instantiateStreaming||oe(n)||"function"!==typeof fetch?_(c):WebAssembly.instantiateStreaming(fetch(n,{credentials:"same-origin"}),r).then(c).catch(function(e){h("wasm streaming compile failed: "+e),h("falling back to ArrayBuffer instantiation"),_(c)}),{}}o.asmPreload=o.asm;var s=o.reallocBuffer;o.reallocBuffer=function(e){return"asmjs"===c?s(e):function(e){e=W(e,o.usingWasm?B:U);var n=o.buffer.byteLength;if(o.usingWasm)try{return-1!==o.wasmMemory.grow((e-n)/65536)?o.buffer=o.wasmMemory.buffer:null}catch(Me){return null}}(e)};var c="";o.asm=function(e,n,t){var r;if(!(n=n).table){var i=o.wasmTableSize;void 0===i&&(i=1024);var a=o.wasmMaxTableSize;"object"===typeof WebAssembly&&"function"===typeof WebAssembly.Table?n.table=void 0!==a?new WebAssembly.Table({initial:i,maximum:a,element:"anyfunc"}):new WebAssembly.Table({initial:i,element:"anyfunc"}):n.table=new Array(i),o.wasmTable=n.table}return n.memoryBase||(n.memoryBase=o.STATIC_BASE),n.tableBase||(n.tableBase=0),A(r=u(0,n),"no binaryen method succeeded."),r},o.asm}();var ue=[function(e){self.DApi.current_save_id(e)}];N=1842832,V.push({func:function(){we()}},{func:function(){Ae()}});o.STATIC_BASE=1024,o.STATIC_BUMP=1841808;var se=N;function ce(){return!!ce.uncaught_exception}N+=16;var le={last:0,caught:[],infos:{},deAdjust:function(e){if(!e||le.infos[e])return e;for(var n in le.infos){var t=+n;if(le.infos[t].adjusted===e)return t}return e},addRef:function(e){e&&le.infos[e].refcount++},decRef:function(e){if(e){var n=le.infos[e];A(n.refcount>0),n.refcount--,0!==n.refcount||n.rethrown||(n.destructor&&o.dynCall_vi(n.destructor,e),delete le.infos[e],fe(e))}},clearRef:function(e){e&&(le.infos[e].refcount=0)}};function fe(e){try{return Ce(e)}catch(Me){}}function _e(){var e=le.last;if(!e)return 0|(Oe(0),0);var n=le.infos[e],t=n.type;if(!t)return 0|(Oe(0),e);var r=Array.prototype.slice.call(arguments);o.___cxa_is_pointer_type(t);_e.buffer||(_e.buffer=Se(4)),R[_e.buffer>>2]=e,e=_e.buffer;for(var i=0;i<r.length;i++)if(r[i]&&o.___cxa_can_catch(r[i],t,e))return e=R[e>>2],n.adjusted=e,0|(Oe(r[i]),e);return e=R[e>>2],0|(Oe(t),e)}var pe={varargs:0,get:function(e){return pe.varargs+=4,R[pe.varargs-4>>2]},getStr:function(){return T(pe.get())},get64:function(){var e=pe.get(),n=pe.get();return A(e>=0?0===n:-1===n),e},getZero:function(){A(0===pe.get())}};function de(e,n){pe.varargs=n;try{var t=pe.get(),r=pe.get(),i=pe.get(),a=0;de.buffers||(de.buffers=[null,[],[]],de.printChar=function(e,n){var t=de.buffers[e];A(t),0===n||10===n?((1===e?y:h)(S(t,0)),t.length=0):t.push(n)});for(var o=0;o<i;o++){for(var u=R[r+8*o>>2],s=R[r+(8*o+4)>>2],c=0;c<s;c++)de.printChar(t,j[u+c]);a+=s}return a}catch(Me){return"undefined"!==typeof FS&&Me instanceof FS.ErrnoError||Ne(Me),-Me.errno}}function me(e){!function(e,n){if(n&&o.noExitRuntime&&0===e)return;o.noExitRuntime||(w=!0,e,L=Ee,X(J),!0,o.onExit&&o.onExit(e));o.quit(e,new Re(e))}(e)}var ye=ne;var he={};var ve=1,ge={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};P=g(4),M=L=b(N),I=b(k=M+z),R[P>>2]=I;o.wasmTableSize=1114,o.wasmMaxTableSize=1114,o.asmGlobalArg={},o.asmLibraryArg={abort:Ne,assert:A,enlargeMemory:q,getTotalMemory:function(){return K},abortOnCannotGrowMemory:function(){Ne("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+K+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")},invoke_i:function(e){var n=je();try{return o.dynCall_i(e)}catch(Me){if(xe(n),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_ii:function(e,n){var t=je();try{return o.dynCall_ii(e,n)}catch(Me){if(xe(t),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_iii:function(e,n,t){var r=je();try{return o.dynCall_iii(e,n,t)}catch(Me){if(xe(r),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_iiii:function(e,n,t,r){var i=je();try{return o.dynCall_iiii(e,n,t,r)}catch(Me){if(xe(i),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_iiiii:function(e,n,t,r,i){var a=je();try{return o.dynCall_iiiii(e,n,t,r,i)}catch(Me){if(xe(a),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_iiiiii:function(e,n,t,r,i,a){var u=je();try{return o.dynCall_iiiiii(e,n,t,r,i,a)}catch(Me){if(xe(u),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_ji:function(e,n){var t=je();try{return o.dynCall_ji(e,n)}catch(Me){if(xe(t),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_v:function(e){var n=je();try{o.dynCall_v(e)}catch(Me){if(xe(n),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_vi:function(e,n){var t=je();try{o.dynCall_vi(e,n)}catch(Me){if(xe(t),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_vii:function(e,n,t){var r=je();try{o.dynCall_vii(e,n,t)}catch(Me){if(xe(r),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_viii:function(e,n,t,r){var i=je();try{o.dynCall_viii(e,n,t,r)}catch(Me){if(xe(i),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_viiii:function(e,n,t,r,i){var a=je();try{o.dynCall_viiii(e,n,t,r,i)}catch(Me){if(xe(a),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_viiiii:function(e,n,t,r,i,a){var u=je();try{o.dynCall_viiiii(e,n,t,r,i,a)}catch(Me){if(xe(u),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_viiiiii:function(e,n,t,r,i,a,u){var s=je();try{o.dynCall_viiiiii(e,n,t,r,i,a,u)}catch(Me){if(xe(s),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_viiiiiii:function(e,n,t,r,i,a,u,s){var c=je();try{o.dynCall_viiiiiii(e,n,t,r,i,a,u,s)}catch(Me){if(xe(c),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_viiiiiiiii:function(e,n,t,r,i,a,u,s,c,l){var f=je();try{o.dynCall_viiiiiiiii(e,n,t,r,i,a,u,s,c,l)}catch(Me){if(xe(f),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_viiiiiiiiii:function(e,n,t,r,i,a,u,s,c,l,f){var _=je();try{o.dynCall_viiiiiiiiii(e,n,t,r,i,a,u,s,c,l,f)}catch(Me){if(xe(_),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_viij:function(e,n,t,r,i){var a=je();try{o.dynCall_viij(e,n,t,r,i)}catch(Me){if(xe(a),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},invoke_viji:function(e,n,t,r,i){var a=je();try{o.dynCall_viji(e,n,t,r,i)}catch(Me){if(xe(a),"number"!==typeof Me&&"longjmp"!==Me)throw Me;o.setThrew(1,0)}},__ZSt18uncaught_exceptionv:ce,___assert_fail:function(e,n,t,r){Ne("Assertion failed: "+T(e)+", at: "+[n?T(n):"unknown filename",t,r?T(r):"unknown function"])},___cxa_allocate_exception:function(e){return Se(e)},___cxa_begin_catch:function(e){var n=le.infos[e];return n&&!n.caught&&(n.caught=!0,ce.uncaught_exception--),n&&(n.rethrown=!1),le.caught.push(e),le.addRef(le.deAdjust(e)),e},___cxa_end_catch:function(){o.setThrew(0);var e=le.caught.pop();e&&(le.decRef(le.deAdjust(e)),le.last=0)},___cxa_find_matching_catch:_e,___cxa_find_matching_catch_2:function(){return _e.apply(null,arguments)},___cxa_find_matching_catch_3:function(){return _e.apply(null,arguments)},___cxa_free_exception:fe,___cxa_get_exception_ptr:function(e){return e},___cxa_pure_virtual:function(){throw w=!0,"Pure virtual function called!"},___cxa_throw:function(e,n,t){throw le.infos[e]={ptr:e,adjusted:e,type:n,destructor:t,refcount:0,caught:!1,rethrown:!1},le.last=e,"uncaught_exception"in ce?ce.uncaught_exception++:ce.uncaught_exception=1,e},___gxx_personality_v0:function(){},___lock:function(){},___resumeException:function(e){throw le.last||(le.last=e),e},___setErrNo:function(e){return o.___errno_location&&(R[o.___errno_location()>>2]=e),e},___syscall140:function(e,n){pe.varargs=n;try{var t=pe.getStreamFromFD(),r=(pe.get(),pe.get()),i=pe.get(),a=pe.get(),o=r;return FS.llseek(t,o,a),R[i>>2]=t.position,t.getdents&&0===o&&0===a&&(t.getdents=null),0}catch(Me){return"undefined"!==typeof FS&&Me instanceof FS.ErrnoError||Ne(Me),-Me.errno}},___syscall146:de,___syscall54:function(e,n){pe.varargs=n;try{return 0}catch(Me){return"undefined"!==typeof FS&&Me instanceof FS.ErrnoError||Ne(Me),-Me.errno}},___syscall6:function(e,n){pe.varargs=n;try{var t=pe.getStreamFromFD();return FS.close(t),0}catch(Me){return"undefined"!==typeof FS&&Me instanceof FS.ErrnoError||Ne(Me),-Me.errno}},___unlock:function(){},__api_close_keyboard:function(){self.DApi.close_keyboard()},__api_open_keyboard:function(e,n,t,r,i){self.DApi.open_keyboard(e,n,t,r,i)},__exit:me,_abort:function(){o.abort()},_api_create_sound:function(e,n,t){self.DApi.create_sound(e,j.slice(n,n+t))},_api_create_sound_float:function(e,n,t,r,i){self.DApi.create_sound_raw(e,D.slice(n/4,n/4+t*r),t,r,i)},_api_delete_sound:function(e){self.DApi.delete_sound(e)},_api_draw_begin:function(){self.DApi.draw_begin()},_api_draw_belt:function(e){self.DApi.draw_belt(R.subarray(e/4,e/4+8))},_api_draw_blit:function(e,n,t,r,i){self.DApi.draw_blit(e,n,t,r,j.subarray(i,i+t*r*4))},_api_draw_clip_text:function(e,n,t,r){self.DApi.draw_clip_text(e,n,t,r)},_api_draw_end:function(){self.DApi.draw_end()},_api_draw_text:function(e,n,t,r){var i=j.indexOf(0,t),a=String.fromCharCode.apply(null,j.subarray(t,i));self.DApi.draw_text(e,n,a,r)},_api_duplicate_sound:function(e,n){self.DApi.duplicate_sound(e,n)},_api_exit_game:function(){self.DApi.exit_game()},_api_play_sound:function(e,n,t,r){self.DApi.play_sound(e,n,t,r)},_api_set_cursor:function(e,n){self.DApi.set_cursor(e,n)},_api_set_volume:function(e,n){self.DApi.set_volume(e,n)},_api_stop_sound:function(e){self.DApi.stop_sound(e)},_api_websocket_closed:function(){return self.DApi.websocket_closed()},_api_websocket_send:function(e,n){self.DApi.websocket_send(j.subarray(e,e+n))},_emscripten_asm_const_ii:function(e,n){return ue[e](n)},_emscripten_memcpy_big:function(e,n,t){return j.set(j.subarray(n,n+t),e),e},_exit:function(e){me(e)},_exit_error:function(e){var n=j.indexOf(0,e),t=String.fromCharCode.apply(null,j.subarray(e,n));self.DApi.exit_error(t)},_get_file_contents:function(e,n,t,r){var i=j.indexOf(0,e),a=String.fromCharCode.apply(null,j.subarray(e,i));self.DApi.get_file_contents(a,j.subarray(n,n+r),t)},_get_file_size:function(e){var n=j.indexOf(0,e),t=String.fromCharCode.apply(null,j.subarray(e,n));return self.DApi.get_file_size(t)},_llvm_ceil_f32:ye,_llvm_eh_typeid_for:function(e){return e},_llvm_trap:function(){Ne("trap!")},_pthread_getspecific:function(e){return he[e]||0},_pthread_key_create:function(e,n){return 0==e?ge.EINVAL:(R[e>>2]=ve,he[ve]=0,ve++,0)},_pthread_once:function e(n,t){e.seen||(e.seen={}),n in e.seen||(o.dynCall_v(t),e.seen[n]=1)},_pthread_setspecific:function(e,n){return e in he?(he[e]=n,0):ge.EINVAL},_put_file_contents:function(e,n,t){var r=j.indexOf(0,e),i=String.fromCharCode.apply(null,j.subarray(e,r));self.DApi.put_file_contents(i,j.slice(n,n+t))},_remove_file:function(e){var n=j.indexOf(0,e),t=String.fromCharCode.apply(null,j.subarray(e,n));self.DApi.remove_file(t)},_show_alert:function(e){var n=j.indexOf(0,e),t=String.fromCharCode.apply(null,j.subarray(e,n));self.alert(t)},_time:function(e){var n=Date.now()/1e3|0;return e&&(R[e>>2]=n),n},_trace_pop:function(){self.WASM_TRACE&&self.WASM_TRACE.pop()},_trace_push:function(e){var n=j.indexOf(0,e),t=String.fromCharCode.apply(null,j.subarray(e,n));console.log(t),self.WASM_TRACE=self.WASM_TRACE||[],self.WASM_TRACE.push(t)},flush_NO_FILESYSTEM:function(){var e=o._fflush;e&&e(0);var n=de.printChar;if(n){var t=de.buffers;t[1].length&&n(1,10),t[2].length&&n(2,10)}},DYNAMICTOP_PTR:P,tempDoublePtr:se,ABORT:w,STACKTOP:L,STACK_MAX:k};var be=o.asm(o.asmGlobalArg,o.asmLibraryArg,O);o.asm=be;o._DApi_AllocPacket=function(){return o.asm._DApi_AllocPacket.apply(null,arguments)},o._DApi_Char=function(){return o.asm._DApi_Char.apply(null,arguments)},o._DApi_Init=function(){return o.asm._DApi_Init.apply(null,arguments)},o._DApi_Key=function(){return o.asm._DApi_Key.apply(null,arguments)},o._DApi_Mouse=function(){return o.asm._DApi_Mouse.apply(null,arguments)},o._DApi_Render=function(){return o.asm._DApi_Render.apply(null,arguments)},o._DApi_SyncText=function(){return o.asm._DApi_SyncText.apply(null,arguments)},o._DApi_SyncTextPtr=function(){return o.asm._DApi_SyncTextPtr.apply(null,arguments)},o._SNet_InitWebsocket=function(){return o.asm._SNet_InitWebsocket.apply(null,arguments)};var Ee,we=o.__GLOBAL__sub_I_msgcmd_cpp=function(){return o.asm.__GLOBAL__sub_I_msgcmd_cpp.apply(null,arguments)},Ae=o.__GLOBAL__sub_I_snet_cpp=function(){return o.asm.__GLOBAL__sub_I_snet_cpp.apply(null,arguments)},Te=(o.___cxa_can_catch=function(){return o.asm.___cxa_can_catch.apply(null,arguments)},o.___cxa_is_pointer_type=function(){return o.asm.___cxa_is_pointer_type.apply(null,arguments)},o.___em_js___api_close_keyboard=function(){return o.asm.___em_js___api_close_keyboard.apply(null,arguments)},o.___em_js___api_open_keyboard=function(){return o.asm.___em_js___api_open_keyboard.apply(null,arguments)},o.___em_js__api_create_sound=function(){return o.asm.___em_js__api_create_sound.apply(null,arguments)},o.___em_js__api_create_sound_float=function(){return o.asm.___em_js__api_create_sound_float.apply(null,arguments)},o.___em_js__api_delete_sound=function(){return o.asm.___em_js__api_delete_sound.apply(null,arguments)},o.___em_js__api_draw_begin=function(){return o.asm.___em_js__api_draw_begin.apply(null,arguments)},o.___em_js__api_draw_belt=function(){return o.asm.___em_js__api_draw_belt.apply(null,arguments)},o.___em_js__api_draw_blit=function(){return o.asm.___em_js__api_draw_blit.apply(null,arguments)},o.___em_js__api_draw_clip_text=function(){return o.asm.___em_js__api_draw_clip_text.apply(null,arguments)},o.___em_js__api_draw_end=function(){return o.asm.___em_js__api_draw_end.apply(null,arguments)},o.___em_js__api_draw_text=function(){return o.asm.___em_js__api_draw_text.apply(null,arguments)},o.___em_js__api_duplicate_sound=function(){return o.asm.___em_js__api_duplicate_sound.apply(null,arguments)},o.___em_js__api_exit_game=function(){return o.asm.___em_js__api_exit_game.apply(null,arguments)},o.___em_js__api_play_sound=function(){return o.asm.___em_js__api_play_sound.apply(null,arguments)},o.___em_js__api_set_cursor=function(){return o.asm.___em_js__api_set_cursor.apply(null,arguments)},o.___em_js__api_set_volume=function(){return o.asm.___em_js__api_set_volume.apply(null,arguments)},o.___em_js__api_stop_sound=function(){return o.asm.___em_js__api_stop_sound.apply(null,arguments)},o.___em_js__api_websocket_closed=function(){return o.asm.___em_js__api_websocket_closed.apply(null,arguments)},o.___em_js__api_websocket_send=function(){return o.asm.___em_js__api_websocket_send.apply(null,arguments)},o.___em_js__exit_error=function(){return o.asm.___em_js__exit_error.apply(null,arguments)},o.___em_js__get_file_contents=function(){return o.asm.___em_js__get_file_contents.apply(null,arguments)},o.___em_js__get_file_size=function(){return o.asm.___em_js__get_file_size.apply(null,arguments)},o.___em_js__put_file_contents=function(){return o.asm.___em_js__put_file_contents.apply(null,arguments)},o.___em_js__remove_file=function(){return o.asm.___em_js__remove_file.apply(null,arguments)},o.___em_js__show_alert=function(){return o.asm.___em_js__show_alert.apply(null,arguments)},o.___em_js__trace_pop=function(){return o.asm.___em_js__trace_pop.apply(null,arguments)},o.___em_js__trace_push=function(){return o.asm.___em_js__trace_push.apply(null,arguments)},o._emscripten_replace_memory=function(){return o.asm._emscripten_replace_memory.apply(null,arguments)}),Ce=o._free=function(){return o.asm._free.apply(null,arguments)},Se=(o._llvm_bswap_i32=function(){return o.asm._llvm_bswap_i32.apply(null,arguments)},o._malloc=function(){return o.asm._malloc.apply(null,arguments)}),Oe=(o._memcpy=function(){return o.asm._memcpy.apply(null,arguments)},o._memmove=function(){return o.asm._memmove.apply(null,arguments)},o._memset=function(){return o.asm._memset.apply(null,arguments)},o._sbrk=function(){return o.asm._sbrk.apply(null,arguments)},o.establishStackSpace=function(){return o.asm.establishStackSpace.apply(null,arguments)},o.getTempRet0=function(){return o.asm.getTempRet0.apply(null,arguments)},o.runPostSets=function(){return o.asm.runPostSets.apply(null,arguments)},o.setTempRet0=function(){return o.asm.setTempRet0.apply(null,arguments)}),xe=(o.setThrew=function(){return o.asm.setThrew.apply(null,arguments)},o.stackAlloc=function(){return o.asm.stackAlloc.apply(null,arguments)},o.stackRestore=function(){return o.asm.stackRestore.apply(null,arguments)}),je=o.stackSave=function(){return o.asm.stackSave.apply(null,arguments)};o.dynCall_i=function(){return o.asm.dynCall_i.apply(null,arguments)},o.dynCall_ii=function(){return o.asm.dynCall_ii.apply(null,arguments)},o.dynCall_iii=function(){return o.asm.dynCall_iii.apply(null,arguments)},o.dynCall_iiii=function(){return o.asm.dynCall_iiii.apply(null,arguments)},o.dynCall_iiiii=function(){return o.asm.dynCall_iiiii.apply(null,arguments)},o.dynCall_iiiiii=function(){return o.asm.dynCall_iiiiii.apply(null,arguments)},o.dynCall_ji=function(){return o.asm.dynCall_ji.apply(null,arguments)},o.dynCall_v=function(){return o.asm.dynCall_v.apply(null,arguments)},o.dynCall_vi=function(){return o.asm.dynCall_vi.apply(null,arguments)},o.dynCall_vii=function(){return o.asm.dynCall_vii.apply(null,arguments)},o.dynCall_viii=function(){return o.asm.dynCall_viii.apply(null,arguments)},o.dynCall_viiii=function(){return o.asm.dynCall_viiii.apply(null,arguments)},o.dynCall_viiiii=function(){return o.asm.dynCall_viiiii.apply(null,arguments)},o.dynCall_viiiiii=function(){return o.asm.dynCall_viiiiii.apply(null,arguments)},o.dynCall_viiiiiii=function(){return o.asm.dynCall_viiiiiii.apply(null,arguments)},o.dynCall_viiiiiiiii=function(){return o.asm.dynCall_viiiiiiiii.apply(null,arguments)},o.dynCall_viiiiiiiiii=function(){return o.asm.dynCall_viiiiiiiiii.apply(null,arguments)},o.dynCall_viij=function(){return o.asm.dynCall_viij.apply(null,arguments)},o.dynCall_viji=function(){return o.asm.dynCall_viji.apply(null,arguments)};function Re(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}o.asm=be,o.then=function(e){if(o.calledRun)e(o);else{var n=o.onRuntimeInitialized;o.onRuntimeInitialized=function(){n&&n(),e(o)}}return o},Re.prototype=new Error,Re.prototype.constructor=Re;function De(e){function n(){o.calledRun||(o.calledRun=!0,w||($||($=!0,X(V)),X(Q),o.onRuntimeInitialized&&o.onRuntimeInitialized(),function(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)ee(o.postRun.shift());X(Z)}()))}e=e||o.arguments,te>0||(!function(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)e=o.preRun.shift(),Y.unshift(e);var e;X(Y)}(),te>0||o.calledRun||(o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),n()},1)):n()))}ie=function e(){o.calledRun||De(),o.calledRun||(ie=e)},o.run=De;function Ne(e){throw o.onAbort&&o.onAbort(e),void 0!==e?(y(e),h(e),e=JSON.stringify(e)):e="",w=!0,1,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}if(o.abort=Ne,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return o.noExitRuntime=!0,De(),o.ready=new Promise(function(e,n){delete o.then,o.onAbort=function(e){n(e)},ee(function(){e(o)})}),i}}();e.exports=i}).call(this,t(2),"/")},function(e,n,t){e.exports=t(19)},function(e,n,t){var r=function(e){"use strict";var n,t=Object.prototype,r=t.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,n,t,r){var i=n&&n.prototype instanceof m?n:m,a=Object.create(i.prototype),o=new O(r||[]);return a._invoke=function(e,n,t){var r=l;return function(i,a){if(r===_)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return j()}for(t.method=i,t.arg=a;;){var o=t.delegate;if(o){var u=T(o,t);if(u){if(u===d)continue;return u}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if(r===l)throw r=p,t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);r=_;var s=c(e,n,t);if("normal"===s.type){if(r=t.done?p:f,s.arg===d)continue;return{value:s.arg,done:t.done}}"throw"===s.type&&(r=p,t.method="throw",t.arg=s.arg)}}}(e,t,o),a}function c(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(r){return{type:"throw",arg:r}}}e.wrap=s;var l="suspendedStart",f="suspendedYield",_="executing",p="completed",d={};function m(){}function y(){}function h(){}var v={};v[a]=function(){return this};var g=Object.getPrototypeOf,b=g&&g(g(x([])));b&&b!==t&&r.call(b,a)&&(v=b);var E=h.prototype=m.prototype=Object.create(v);function w(e){["next","throw","return"].forEach(function(n){e[n]=function(e){return this._invoke(n,e)}})}function A(e){var n;this._invoke=function(t,i){function a(){return new Promise(function(n,a){!function n(t,i,a,o){var u=c(e[t],e,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"===typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then(function(e){n("next",e,a,o)},function(e){n("throw",e,a,o)}):Promise.resolve(l).then(function(e){s.value=e,a(s)},function(e){return n("throw",e,a,o)})}o(u.arg)}(t,i,n,a)})}return n=n?n.then(a,a):a()}}function T(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,T(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=c(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function C(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function S(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(r.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:n,done:!0}}return y.prototype=E.constructor=h,h.constructor=y,h[u]=y.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var n="function"===typeof e&&e.constructor;return!!n&&(n===y||"GeneratorFunction"===(n.displayName||n.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},w(A.prototype),A.prototype[o]=function(){return this},e.AsyncIterator=A,e.async=function(n,t,r,i){var a=new A(s(n,t,r,i));return e.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},w(E),E[u]="Generator",E[a]=function(){return this},E.toString=function(){return"[object Generator]"},e.keys=function(e){var n=[];for(var t in e)n.push(t);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(r,i){return u.type="throw",u.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=n,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),d},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),S(t),d}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var i=r.arg;S(t)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),d}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(e,n,t){"use strict";var r=t(0),i=t(5),a=t(21),o=t(11);function u(e){var n=new a(e),t=i(a.prototype.request,n);return r.extend(t,a.prototype,n),r.extend(t,n),t}var s=u(t(8));s.Axios=a,s.create=function(e){return u(o(s.defaults,e))},s.Cancel=t(12),s.CancelToken=t(33),s.isCancel=t(7),s.all=function(e){return Promise.all(e)},s.spread=t(34),e.exports=s,e.exports.default=s},function(e,n){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,n,t){"use strict";var r=t(0),i=t(6),a=t(22),o=t(23),u=t(11);function s(e){this.defaults=e,this.interceptors={request:new a,response:new a}}s.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=u(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var n=[o,void 0],t=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){n.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){n.push(e.fulfilled,e.rejected)});n.length;)t=t.then(n.shift(),n.shift());return t},s.prototype.getUri=function(e){return e=u(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],function(e){s.prototype[e]=function(n,t){return this.request(r.merge(t||{},{method:e,url:n}))}}),r.forEach(["post","put","patch"],function(e){s.prototype[e]=function(n,t,i){return this.request(r.merge(i||{},{method:e,url:n,data:t}))}}),e.exports=s},function(e,n,t){"use strict";var r=t(0);function i(){this.handlers=[]}i.prototype.use=function(e,n){return this.handlers.push({fulfilled:e,rejected:n}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,function(n){null!==n&&e(n)})},e.exports=i},function(e,n,t){"use strict";var r=t(0),i=t(24),a=t(7),o=t(8),u=t(31),s=t(32);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!u(e.url)&&(e.url=s(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(n){delete e.headers[n]}),(e.adapter||o.adapter)(e).then(function(n){return c(e),n.data=i(n.data,n.headers,e.transformResponse),n},function(n){return a(n)||(c(e),n&&n.response&&(n.response.data=i(n.response.data,n.response.headers,e.transformResponse))),Promise.reject(n)})}},function(e,n,t){"use strict";var r=t(0);e.exports=function(e,n,t){return r.forEach(t,function(t){e=t(e,n)}),e}},function(e,n,t){"use strict";var r=t(0);e.exports=function(e,n){r.forEach(e,function(t,r){r!==n&&r.toUpperCase()===n.toUpperCase()&&(e[n]=t,delete e[r])})}},function(e,n,t){"use strict";var r=t(10);e.exports=function(e,n,t){var i=t.config.validateStatus;!i||i(t.status)?e(t):n(r("Request failed with status code "+t.status,t.config,null,t.request,t))}},function(e,n,t){"use strict";e.exports=function(e,n,t,r,i){return e.config=n,t&&(e.code=t),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,n,t){"use strict";var r=t(0),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var n,t,a,o={};return e?(r.forEach(e.split("\n"),function(e){if(a=e.indexOf(":"),n=r.trim(e.substr(0,a)).toLowerCase(),t=r.trim(e.substr(a+1)),n){if(o[n]&&i.indexOf(n)>=0)return;o[n]="set-cookie"===n?(o[n]?o[n]:[]).concat([t]):o[n]?o[n]+", "+t:t}}),o):o}},function(e,n,t){"use strict";var r=t(0);e.exports=r.isStandardBrowserEnv()?function(){var e,n=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");function i(e){var r=e;return n&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return e=i(window.location.href),function(n){var t=r.isString(n)?i(n):n;return t.protocol===e.protocol&&t.host===e.host}}():function(){return!0}},function(e,n,t){"use strict";var r=t(0);e.exports=r.isStandardBrowserEnv()?{write:function(e,n,t,i,a,o){var u=[];u.push(e+"="+encodeURIComponent(n)),r.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),r.isString(i)&&u.push("path="+i),r.isString(a)&&u.push("domain="+a),!0===o&&u.push("secure"),document.cookie=u.join("; ")},read:function(e){var n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,n,t){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,n,t){"use strict";e.exports=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}},function(e,n,t){"use strict";var r=t(12);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(e){n=e});var t=this;e(function(e){t.reason||(t.reason=new r(e),n(t.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i(function(n){e=n}),cancel:e}},e.exports=i},function(e,n,t){"use strict";e.exports=function(e){return function(n){return e.apply(null,n)}}},function(e,n,t){"use strict";function r(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(t.push(o.value),!n||t.length!==n);r=!0);}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.r(n);var i=t(1),a=t.n(i);function o(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(e,n,t,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void t(c)}u.done?n(s):Promise.resolve(s).then(r,i)}function s(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var a=e.apply(n,t);function o(e){u(a,r,i,o,s,"next",e)}function s(e){u(a,r,i,o,s,"throw",e)}o(void 0)})}}function c(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=t(13),f=t.n(l),_=t(14),p=t.n(_),d=t(15),m=t.n(d),y=t(16),h=t.n(y),v=t(17),g=t.n(v),b=1466809,E=1337416,w=self,A=null,T=null,C=null,S=null,O=null,x=null,j=!1,R=1<<20,D=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e);var t=new XMLHttpRequest;t.open("HEAD",n,!1),t.send(),(t.status<200||t.status>=300)&&w.postMessage({action:"error",error:"Failed to load remote file"}),this.byteLength=parseInt(t.getResponseHeader("Content-Length")),this.url=n,this.buffer=new Uint8Array(this.byteLength),this.chunks=new Uint8Array(this.byteLength+R-1>>20|0)}var n,t,r;return n=e,(t=[{key:"subarray",value:function(e,n){for(var t=e/R|0,r=(n+R-1)/R|0,i=r,a=t,o=t;o<r;++o)this.chunks[o]||(i=Math.min(i,o),a=Math.max(a,o));if(i<=a){var u=new XMLHttpRequest;if(u.open("GET",this.url,!1),u.setRequestHeader("Range","bytes=".concat(i*R,"-").concat(Math.min(a*R+R-1,this.byteLength-1))),u.responseType="arraybuffer",u.send(),u.status<200||u.status>=300)w.postMessage({action:"error",error:"Failed to load remote file"});else{var s,c=u.getResponseHeader("Content-Range"),l=0;c&&(s=c.match(/bytes (\d+)-(\d+)\/(\d+)/))&&(l=parseInt(s[1])),this.buffer.set(new Uint8Array(u.response),l),t=(l+R-1)/R|0,r=(l+u.response.byteLength+R-1)/R|0;for(var f=t;f<r;++f)this.chunks[f]=1}}return this.buffer.subarray(e,n)}}])&&c(n.prototype,t),r&&c(n,r),e}(),N={exit_error:function(e){w.postMessage({action:"error",error:e})},exit_game:function(){w.postMessage({action:"exit"})},current_save_id:function(e){w.postMessage({action:"current_save",name:e>=0?j?"spawn".concat(e,".sv"):"single_".concat(e,".sv"):null})},get_file_size:function(e){var n=S.get(e.toLowerCase());return n?n.byteLength:0},get_file_contents:function(e,n,t){var r=S.get(e.toLowerCase());r&&n.set(r.subarray(t,t+n.byteLength))},put_file_contents:function(e,n){e=e.toLowerCase(),S.set(e,n),w.postMessage({action:"fs",func:"update",params:[e,n]})},remove_file:function(e){e=e.toLowerCase(),S.delete(e),w.postMessage({action:"fs",func:"delete",params:[e]})},set_cursor:function(e,n){w.postMessage({action:"cursor",x:e,y:n})},open_keyboard:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];w.postMessage({action:"keyboard",rect:[].concat(n)})},close_keyboard:function(){w.postMessage({action:"keyboard",rect:null})},websocket_closed:function(){return!1}};var M={draw_begin:function(){O={images:[],text:[],clip:null,belt:x},x=null},draw_blit:function(e,n,t,r,i){O.images.push({x:e,y:n,w:t,h:r,data:i.slice()})},draw_clip_text:function(e,n,t,r){O.clip={x0:e,y0:n,x1:t,y1:r}},draw_text:function(e,n,t,r){O.text.push({x:e,y:n,text:t,color:r})},draw_end:function(){var e=O.images.map(function(e){return e.data.buffer});O.belt&&e.push(O.belt.buffer),w.postMessage({action:"render",batch:O},e),O=null},draw_belt:function(e){x=e.slice()}},L={draw_begin:function(){T.save(),T.font="bold 13px Times New Roman"},draw_blit:function(e,n,t,r,i){C.data.set(i),T.putImageData(C,e,n)},draw_clip_text:function(e,n,t,r){T.beginPath(),T.rect(e,n,t-e,r-n),T.clip()},draw_text:function(e,n,t,r){var i=r>>16&255,a=r>>8&255,o=255&r;T.fillStyle="rgb(".concat(i,", ").concat(a,", ").concat(o,")"),T.fillText(t,e,n+22)},draw_end:function(){T.restore();var e=A.transferToImageBitmap(),n=[e];x&&n.push(x.buffer),w.postMessage({action:"render",batch:{bitmap:e,belt:x}},n),x=null},draw_belt:function(e){x=e.slice()}},k=null,I=null,P=0,B=0;["create_sound_raw","create_sound","duplicate_sound"].forEach(function(e){N[e]=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];if(k)B=t[0]+1,k.push({func:e,params:t}),"duplicate_sound"!==e&&I.push(t[1].buffer);else{P=t[0]+1;var i=[];"duplicate_sound"!==e&&i.push(t[1].buffer),w.postMessage({action:"audio",func:e,params:t},i)}}}),["play_sound","set_volume","stop_sound","delete_sound"].forEach(function(e){N[e]=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];k&&t[0]>=P?k.push({func:e,params:t}):w.postMessage({action:"audio",func:e,params:t})}});var U=null;N.websocket_send=function(e){U?U.push(e.slice().buffer):w.postMessage({action:"packet",buffer:e})},w.DApi=N;var F=null;function W(e){try{e()}catch(n){"string"===typeof n&&w.postMessage({action:""}),w.postMessage({action:"error",error:n.toString(),stack:n.stack})}}function H(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];W(function(){if(k=[],I=[],U=[],"text"!==e){var n;(n=F)["_"+e].apply(n,t)}else{for(var r=F._DApi_SyncTextPtr(),i=t[0],a=Math.min(i.length,255),o=F.HEAPU8,u=0;u<a;++u)o[r+u]=i.charCodeAt(u);o[r+a]=0,F._DApi_SyncText(t[1])}k.length&&(P=B,w.postMessage({action:"audioBatch",batch:k},I)),U.length&&w.postMessage({action:"packetBatch",batch:U},U),k=null,I=null,U=null})}function G(e,n,t){w.postMessage({action:"progress",text:e,loaded:n,total:t})}var q=function(e,n){return new Promise(function(t,r){var i=new FileReader;i.onload=function(){n&&n({loaded:e.size}),t(i.result)},i.onerror=function(){return r(i.error)},i.onabort=function(){return r()},n&&i.addEventListener("progress",n),i.readAsArrayBuffer(e)})};function z(e,n){return K.apply(this,arguments)}function K(){return(K=s(a.a.mark(function e(n,t){var r,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.request({url:n?m.a:f.a,responseType:"arraybuffer",onDownloadProgress:t});case 2:return r=e.sent,e.next=5,(n?h.a:p.a)({wasmBinary:r.data}).ready;case 5:return i=e.sent,t({loaded:2e6}),e.abrupt("return",i);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function X(){return(X=s(a.a.mark(function e(n,t,i){var o,u,s,c,l,f,_,p,d,m,y,h;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _=function(){G("Loading...",u+c*f,s+l*f)},j=t,i?(A=new OffscreenCanvas(640,480),T=A.getContext("2d"),C=T.createImageData(640,480),Object.assign(N,L)):Object.assign(N,M),n||(o=t?"spawn.mpq":"diabdat.mpq",S.has(o)||S.set(o,new D("".concat("/diabloweb","/").concat(o)))),G("Loading..."),u=0,s=n?n.size:0,c=0,l=t?E:b,f=5,p=z(t,function(e){c=Math.min(e.loaded,l),_()}),d=n?q(n,function(e){u=e.loaded,_()}):Promise.resolve(null),e.next=11,Promise.all([p,d]);case 11:m=e.sent,y=r(m,2),F=y[0],(n=y[1])&&S.set(t?"spawn.mpq":"diabdat.mpq",new Uint8Array(n)),G("Initializing..."),h="1.0.99".match(/(\d+)\.(\d+)\.(\d+)/),F._SNet_InitWebsocket(),F._DApi_Init(Math.floor(performance.now()),i?1:0,parseInt(h[1]),parseInt(h[2]),parseInt(h[3])),setInterval(function(){H("DApi_Render",Math.floor(performance.now()))},50);case 21:case"end":return e.stop()}},e)}))).apply(this,arguments)}w.addEventListener("message",function(e){var n=e.data;switch(n.action){case"init":S=n.files,function(e,n,t){return X.apply(this,arguments)}(n.mpq,n.spawn,n.offscreen).then(function(){return w.postMessage({action:"loaded"})},function(e){return w.postMessage({action:"failed",error:e.toString(),stack:e.stack})});break;case"event":H.apply(void 0,[n.func].concat(o(n.params)));break;case"packet":W(function(){var e=F._DApi_AllocPacket(n.buffer.byteLength);F.HEAPU8.set(new Uint8Array(n.buffer),e)});break;case"packetBatch":W(function(){var e=!0,t=!1,r=void 0;try{for(var i,a=n.batch[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var o=i.value,u=F._DApi_AllocPacket(o.byteLength);F.HEAPU8.set(new Uint8Array(o),u)}}catch(s){t=!0,r=s}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}})}})}]);
//# sourceMappingURL=5aa65e2d0074f3c524e7.worker.js.map